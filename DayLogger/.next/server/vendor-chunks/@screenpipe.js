"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@screenpipe";
exports.ids = ["vendor-chunks/@screenpipe"];
exports.modules = {

/***/ "(action-browser)/./node_modules/@screenpipe/js/dist/index.js":
/*!***************************************************!*\
  !*** ./node_modules/@screenpipe/js/dist/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDefaultSettings: () => (/* binding */ k),\n/* harmony export */   pipe: () => (/* binding */ ae)\n/* harmony export */ });\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! os */ \"os\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! child_process */ \"child_process\");\n/* harmony import */ var net__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! net */ \"net\");\n/* harmony import */ var posthog_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! posthog-js */ \"(action-browser)/./node_modules/posthog-js/dist/module.js\");\nvar S=(n,e=\"\")=>Object.keys(n).reduce((t,r)=>{let s=e.length?e+\".\":\"\";return typeof n[r]==\"object\"&&n[r]!==null&&!Array.isArray(n[r])?Object.assign(t,S(n[r],s+r)):t[s+r]=n[r],t},{}),P=n=>{let e={};for(let t in n){let r=t.split(\".\"),s=e;for(let a=0;a<r.length;a++){let o=r[a];a===r.length-1?s[o]=n[t]:(s[o]=s[o]||{},s=s[o]);}}return e};function C(n){return n.replace(/([-_][a-z])/g,e=>e.toUpperCase().replace(\"-\",\"\").replace(\"_\",\"\"))}function m(n){return n.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}function h(n){return Object.keys(n).reduce((e,t)=>{let r=m(t);return e[r]=h(n[t]),e},{})}function c(n){return Array.isArray(n)?n.map(c):n!==null&&typeof n==\"object\"?Object.keys(n).reduce((e,t)=>{let r=C(t);return e[r]=c(n[t]),e},{}):n}function k(){return {openaiApiKey:\"\",deepgramApiKey:\"\",aiModel:\"gpt-4o\",aiUrl:\"https://api.openai.com/v1\",customPrompt:\"Rules:\\n    - You can analyze/view/show/access videos to the user by putting .mp4 files in a code block (we'll render it) like this: `/users/video.mp4`, use the exact, absolute, file path from file_path property\\n    - Do not try to embed video in links (e.g. [](.mp4) or https://.mp4) instead put the file_path in a code block using backticks\\n    - Do not put video in multiline code block it will not render the video (e.g. ```bash\\n.mp4``` IS WRONG) instead using inline code block with single backtick\\n    - Always answer my question/intent, do not make up things\\n    \",port:3030,dataDir:\"default\",disableAudio:false,ignoredWindows:[],includedWindows:[],aiProviderType:\"openai\",embeddedLLM:{enabled:false,model:\"llama3.2:1b-instruct-q4_K_M\",port:11434},enableFrameCache:true,enableUiMonitoring:false,aiMaxContextChars:512e3,analyticsEnabled:true,user:{token:\"\"},customSettings:{},monitorIds:[\"default\"],audioDevices:[\"default\"],audioTranscriptionEngine:\"whisper-large-v3-turbo\",enableRealtimeAudioTranscription:false,realtimeAudioTranscriptionEngine:\"deepgram\",disableVision:false,aiPresets:[]}}var y=k(),f=class{settings;storePath;initialized=false;constructor(){this.settings=y,this.storePath=\"\";}async getStorePath(){let e=process.platform,t=os__WEBPACK_IMPORTED_MODULE_2__.homedir(),r;switch(e){case\"darwin\":r=path__WEBPACK_IMPORTED_MODULE_1__.join(t,\"Library\",\"Application Support\",\"screenpipe\");break;case\"linux\":let o=process.env.XDG_DATA_HOME||path__WEBPACK_IMPORTED_MODULE_1__.join(t,\".local\",\"share\");r=path__WEBPACK_IMPORTED_MODULE_1__.join(o,\"screenpipe\");break;case\"win32\":r=path__WEBPACK_IMPORTED_MODULE_1__.join(process.env.LOCALAPPDATA||path__WEBPACK_IMPORTED_MODULE_1__.join(t,\"AppData\",\"Local\"),\"screenpipe\");break;default:throw new Error(`unsupported platform: ${e}`)}let s=path__WEBPACK_IMPORTED_MODULE_1__.join(r,\"profiles.bin\"),a=\"default\";try{let o=await fs_promises__WEBPACK_IMPORTED_MODULE_0__.readFile(s),u=JSON.parse(o.toString());u.activeProfile&&(a=u.activeProfile);}catch{}return a===\"default\"?path__WEBPACK_IMPORTED_MODULE_1__.join(r,\"store.bin\"):path__WEBPACK_IMPORTED_MODULE_1__.join(r,`store-${a}.bin`)}async init(){if(!fs_promises__WEBPACK_IMPORTED_MODULE_0__||!path__WEBPACK_IMPORTED_MODULE_1__)throw new Error(\"failed to load required modules\");this.storePath=await this.getStorePath();try{await fs_promises__WEBPACK_IMPORTED_MODULE_0__.mkdir(path__WEBPACK_IMPORTED_MODULE_1__.dirname(this.storePath),{recursive:!0});let e=await fs_promises__WEBPACK_IMPORTED_MODULE_0__.readFile(this.storePath),t=JSON.parse(e.toString());this.settings={...y,...P(t)},this.initialized=!0;}catch(e){if(e.code===\"ENOENT\")await this.save(),this.initialized=true;else throw e}}async save(){await fs_promises__WEBPACK_IMPORTED_MODULE_0__.mkdir(path__WEBPACK_IMPORTED_MODULE_1__.dirname(this.storePath),{recursive:true});let e=S(this.settings);await fs_promises__WEBPACK_IMPORTED_MODULE_0__.writeFile(this.storePath,JSON.stringify(e,null,2));}async get(e){return this.initialized||await this.init(),this.settings[e]}async set(e,t){this.initialized||await this.init(),this.settings[e]=t,await this.save();}async getAll(){return await this.init(),{...this.settings}}async update(e){this.initialized||await this.init(),this.settings={...this.settings,...e},await this.save();}async reset(){this.settings={...y},await this.save();}async resetKey(e){this.initialized||await this.init(),this.settings[e]=y[e],await this.save();}async getCustomSetting(e,t){return this.initialized||await this.init(),this.settings.customSettings?.[e]?.[t]}async setCustomSetting(e,t,r){this.initialized||await this.init(),this.settings.customSettings=this.settings.customSettings||{},this.settings.customSettings[e]=this.settings.customSettings[e]||{},this.settings.customSettings[e][t]=r,await this.save();}async getNamespaceSettings(e){return this.initialized||await this.init(),this.settings.customSettings?.[e]}async updateNamespaceSettings(e,t){this.initialized||await this.init(),this.settings.customSettings=this.settings.customSettings||{},this.settings.customSettings[e]=t,await this.save();}};async function J(){return new Promise((n,e)=>{let t=(0,net__WEBPACK_IMPORTED_MODULE_4__.createServer)();t.unref(),t.on(\"error\",e),t.listen(0,()=>{let r=t.address().port;t.close(()=>n(r));});})}var g=class{actionServerPort;actionServerProcess;async send(e){this.actionServerPort||(this.actionServerPort=await J(),this.actionServerProcess=(0,child_process__WEBPACK_IMPORTED_MODULE_3__.fork)(\"./inbox-server.js\",[this.actionServerPort.toString()])),e.actions&&(e.actions=e.actions.map(t=>{let r=crypto.randomUUID();return {label:t.label,action:r,port:this.actionServerPort,callback:t.callback}}));try{return (await fetch(\"http://localhost:11435/inbox\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({...e,type:\"inbox\",actionServerPort:this.actionServerPort})})).ok}catch(t){return console.error(\"failed to send inbox message:\",t),false}}};var w=class{async list(){try{let t=await fetch(\"http://localhost:3030/pipes/list\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});if(!t.ok)throw new Error(`http error! status: ${t.status}`);return {success:!0,data:(await t.json()).data}}catch(e){return console.error(\"failed to list pipes:\",e),{success:false,error:e}}}async download(e){try{let r=await fetch(\"http://localhost:3030/pipes/download\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({url:e})});if(!r.ok)throw new Error(`http error! status: ${r.status}`);return {success:!0,data:(await r.json()).data}}catch(t){return console.error(\"failed to download pipe:\",t),{success:false,error:t}}}async enable(e){try{return (await fetch(\"http://localhost:3030/pipes/enable\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({pipe_id:e})})).ok}catch(t){return console.error(\"failed to enable pipe:\",t),false}}async disable(e){try{return (await fetch(\"http://localhost:3030/pipes/disable\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({pipe_id:e})})).ok}catch(t){return console.error(\"failed to disable pipe:\",t),false}}async update(e,t){try{return (await fetch(\"http://localhost:3030/pipes/update\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({pipe_id:e,config:t})})).ok}catch(r){return console.error(\"failed to update pipe:\",r),false}}async info(e){try{let r=await fetch(`http://localhost:3030/pipes/info/${e}`,{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});if(!r.ok)throw new Error(`http error! status: ${r.status}`);return {success:!0,data:(await r.json()).data}}catch(t){return console.error(\"failed to get pipe info:\",t),{success:false,error:t}}}async downloadPrivate(e,t,r){try{let a=await fetch(\"http://localhost:3030/pipes/download-private\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({url:e,pipe_name:t,pipe_id:r})});if(!a.ok)throw new Error(`http error! status: ${a.status}`);return {success:!0,data:(await a.json()).data}}catch(s){return console.error(\"failed to download private pipe:\",s),{success:false,error:s}}}async delete(e){try{return (await fetch(\"http://localhost:3030/pipes/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({pipe_id:e})})).ok}catch(t){return console.error(\"failed to delete pipe:\",t),false}}};var v=false,l=null,I=\"phc_Bt8GoTBPgkCpDrbaIZzJIEYt0CrJjhBiuLaBck1clce\",U=\"https://eu.i.posthog.com\";function O(n){l=n;}function $(n,e){!v&&l&&(l.init(I,{api_host:U,distinct_id:n,email:e}),l.identify(n,{email:e}),v=true);}async function b(n,e){if(!l)return;$(e?.distinct_id,e?.email);let{distinct_id:t,...r}=e||{};l.capture(n,r);}async function A(n,e){if(!l)return;$(e?.distinct_id,e?.email);let{distinct_id:t,...r}=e||{};l.capture(n,{feature:\"main\",...r});}var x=class{baseUrl;pixel;constructor(e=\"http://localhost:3030\"){this.baseUrl=e,this.pixel={type:t=>this.sendInputControl({type:\"WriteText\",data:t}),press:t=>this.sendInputControl({type:\"KeyPress\",data:t}),moveMouse:(t,r)=>this.sendInputControl({type:\"MouseMove\",data:{x:t,y:r}}),click:t=>this.sendInputControl({type:\"MouseClick\",data:t})};}async sendInputControl(e){try{let t=await fetch(`${this.baseUrl}/experimental/operator/pixel`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({action:e})});if(!t.ok)throw new Error(`http error! status: ${t.status}`);return (await t.json()).success}catch(t){return console.error(\"failed to control input:\",t),false}}locator(e){if(e.role&&e.id)throw new Error(\"only one of 'role' or 'id' can be specified. need both? dm us!\");let t={app_name:e.app,window_name:e.window,locator:e.role||(e.id?`#${e.id}`:\"\"),use_background_apps:e.useBackgroundApps,activate_app:e.activateApp};return new T(this.baseUrl,t)}async click(e){let t={app_name:e.app,window_name:e.window,locator:`#${e.id}`,use_background_apps:e.useBackgroundApps,activate_app:e.activateApp!==false},r=await fetch(`${this.baseUrl}/experimental/operator/click`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selector:t})});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to click element: ${o.error||r.statusText}`)}catch{throw new Error(`failed to click element (status ${r.status}): ${a||r.statusText}`)}}let s=await r.json();if(console.log(\"debug: click response data:\",JSON.stringify(s,null,2)),!s.success)throw new Error(`click operation failed: ${s.error||\"unknown error\"}`);return s.result?c(s.result):s.method?{method:s.method,coordinates:s.coordinates,details:s.details||\"Click operation succeeded\"}:(console.log(\"warning: click response missing expected structure, creating fallback object\"),{method:\"MouseSimulation\",coordinates:undefined,details:\"Click operation succeeded but returned unexpected data structure\"})}async fill(e){let t={app_name:e.app,locator:`#${e.id}`,use_background_apps:e.useBackgroundApps,activate_app:e.activateApp!==false};console.log(\"selector\",t);let r=await fetch(`${this.baseUrl}/experimental/operator/type`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selector:t,text:e.value})});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to type text: ${o.error||r.statusText}`)}catch{throw new Error(`failed to type text (status ${r.status}): ${a||r.statusText}`)}}return (await r.json()).success}getByRole(e,t){return this.locator({app:t?.app||\"\",window:t?.window,role:e,useBackgroundApps:t?.useBackgroundApps,activateApp:t?.activateApp})}getById(e,t){return this.locator({app:t?.app||\"\",window:t?.window,id:e,useBackgroundApps:t?.useBackgroundApps,activateApp:t?.activateApp})}async getText(e){let t={appName:e.app,windowName:e.window,maxDepth:e.maxDepth,useBackgroundApps:e.useBackgroundApps,activateApp:e.activateApp!==false},r=await fetch(`${this.baseUrl}/experimental/operator/get_text`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(h(t))});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to get text: ${o.error||r.statusText}`)}catch{throw new Error(`failed to get text (status ${r.status}): ${a||r.statusText}`)}}let s=await r.json();if(console.log(\"debug: text response data:\",JSON.stringify(s,null,2)),!s.success)throw new Error(`get_text operation failed: ${s.error||\"unknown error\"}`);return c(s)}async getInteractableElements(e){let t={appName:e.app,windowName:e.window,withTextOnly:e.withTextOnly,interactableOnly:e.interactableOnly,includeSometimesInteractable:e.includeSometimesInteractable,maxElements:e.maxElements,useBackgroundApps:e.useBackgroundApps,activateApp:e.activateApp},r=await fetch(`${this.baseUrl}/experimental/operator/list-interactable-elements`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(h(t))});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to get interactable elements: ${o.error||r.statusText}`)}catch{throw new Error(`failed to get interactable elements (status ${r.status}): ${a||r.statusText}`)}}let s=await r.json();return console.log(\"debug: text response data:\",JSON.stringify(s,null,2)),c(s)}async clickByIndex(e){let t=await fetch(`${this.baseUrl}/experimental/operator/click-by-index`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({element_index:e})});if(!t.ok){let s=await t.text();console.log(\"error response:\",s);try{let a=JSON.parse(s);throw new Error(`failed to click element by index: ${a.error||t.statusText}`)}catch{throw new Error(`failed to click element by index (status ${t.status}): ${s||t.statusText}`)}}let r=await t.json();if(!r.success)throw new Error(`click operation failed: ${r.message||\"unknown error\"}`);return r.success}async typeByIndex(e,t){let r=await fetch(`${this.baseUrl}/experimental/operator/type-by-index`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({element_index:e,text:t})});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to type text into element by index: ${o.error||r.statusText}`)}catch{throw new Error(`failed to type text into element by index (status ${r.status}): ${a||r.statusText}`)}}let s=await r.json();if(!s.success)throw new Error(`type operation failed: ${s.message||\"unknown error\"}`);return s.success}async pressKey(e){let t={app_name:e.app,window_name:e.window,locator:`#${e.id}`,use_background_apps:e.useBackgroundApps,activate_app:e.activateApp!==false},r=await fetch(`${this.baseUrl}/experimental/operator/press-key`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(h({selector:t,keyCombo:e.key}))});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to press key: ${o.error||r.statusText}`)}catch{throw new Error(`failed to press key (status ${r.status}): ${a||r.statusText}`)}}return (await r.json()).success}async pressKeyByIndex(e,t){let r=await fetch(`${this.baseUrl}/experimental/operator/press-key-by-index`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({element_index:e,key_combo:t})});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to press key on element by index: ${o.error||r.statusText}`)}catch{throw new Error(`failed to press key on element by index (status ${r.status}): ${a||r.statusText}`)}}let s=await r.json();if(!s.success)throw new Error(`press key operation failed: ${s.message||\"unknown error\"}`);return s.success}async openApplication(e){let t=await fetch(`${this.baseUrl}/experimental/operator/open-application`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({app_name:e})});if(!t.ok){let s=await t.text();console.log(\"error response:\",s);try{let a=JSON.parse(s);throw new Error(`failed to open application: ${a.error||t.statusText}`)}catch{throw new Error(`failed to open application (status ${t.status}): ${s||t.statusText}`)}}let r=await t.json();if(!r.success)throw new Error(`open application operation failed: ${r.message||\"unknown error\"}`);return r.success}async openUrl(e,t){let r=await fetch(`${this.baseUrl}/experimental/operator/open-url`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({url:e,browser:t})});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to open url: ${o.error||r.statusText}`)}catch{throw new Error(`failed to open url (status ${r.status}): ${a||r.statusText}`)}}let s=await r.json();if(!s.success)throw new Error(`open url operation failed: ${s.message||\"unknown error\"}`);return s.success}async scroll(e){let t={app_name:e.app,window_name:e.window,locator:e.id?`#${e.id}`:\"\",use_background_apps:e.useBackgroundApps,activate_app:e.activateApp!==false},r=await fetch(`${this.baseUrl}/experimental/operator/scroll`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selector:t,direction:e.direction,amount:e.amount})});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to scroll element: ${o.error||r.statusText}`)}catch{throw new Error(`failed to scroll element (status ${r.status}): ${a||r.statusText}`)}}return (await r.json()).success}},T=class{baseUrl;selector;constructor(e,t){this.baseUrl=e,this.selector=t;}async first(e){let t=await this.all(1,e);return t.length>0?t[0]:null}async all(e,t){let r=await fetch(`${this.baseUrl}/experimental/operator`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selector:this.selector,max_results:e,max_depth:t})});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to find elements: ${o.error||r.statusText}`)}catch{throw new Error(`failed to find elements (status ${r.status}): ${a||r.statusText}`)}}return (await r.json()).data}async click(){let e=await fetch(`${this.baseUrl}/experimental/operator/click`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selector:{...this.selector,activate_app:this.selector.activate_app!==false}})});if(!e.ok){let r=await e.text();console.log(\"error response:\",r);try{let s=JSON.parse(r);throw new Error(`failed to click element: ${s.error||e.statusText}`)}catch{throw new Error(`failed to click element (status ${e.status}): ${r||e.statusText}`)}}let t=await e.json();if(console.log(\"debug: click response data:\",JSON.stringify(t,null,2)),!t.success)throw new Error(`click operation failed: ${t.error||\"unknown error\"}`);return t.result?t.result:t.method?{method:t.method,coordinates:t.coordinates,details:t.details||\"Click operation succeeded\"}:(console.log(\"warning: click response missing expected structure, creating fallback object\"),{method:\"MouseSimulation\",coordinates:undefined,details:\"Click operation succeeded but returned unexpected data structure\"})}async fill(e){let t=await fetch(`${this.baseUrl}/experimental/operator/type`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selector:{...this.selector,activate_app:this.selector.activate_app!==false},text:e})});if(!t.ok){let s=await t.text();console.log(\"error response:\",s);try{let a=JSON.parse(s);throw new Error(`failed to type text: ${a.error||t.statusText}`)}catch{throw new Error(`failed to type text (status ${t.status}): ${s||t.statusText}`)}}return (await t.json()).success}async exists(){try{return !!await this.first()}catch{return false}}async waitFor(e={}){let t=Date.now(),r=e.timeout||3e4;for(;Date.now()-t<r;){try{let s=await this.first();if(s)return s}catch{}await new Promise(s=>setTimeout(s,100));}return null}async pressKey(e){let t=await fetch(`${this.baseUrl}/experimental/operator/press-key`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selector:{...this.selector,activate_app:this.selector.activate_app!==false},key_combo:e})});if(!t.ok){let s=await t.text();console.log(\"error response:\",s);try{let a=JSON.parse(s);throw new Error(`failed to press key: ${a.error||t.statusText}`)}catch{throw new Error(`failed to press key (status ${t.status}): ${s||t.statusText}`)}}return (await t.json()).success}async scroll(e,t){let r=await fetch(`${this.baseUrl}/experimental/operator/scroll`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selector:{...this.selector,activate_app:this.selector.activate_app!==false},direction:e,amount:t})});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to scroll element: ${o.error||r.statusText}`)}catch{throw new Error(`failed to scroll element (status ${r.status}): ${a||r.statusText}`)}}return (await r.json()).success}};O({init:posthog_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].init.bind(posthog_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),identify:posthog_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].identify.bind(posthog_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),capture:posthog_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].capture.bind(posthog_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])});var E=class{analyticsInitialized=false;analyticsEnabled=true;settings=new f;inbox=new g;pipes=new w;operator=new x;async sendDesktopNotification(e){await this.initAnalyticsIfNeeded();let t=\"http://localhost:11435\";try{return await fetch(`${t}/notify`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(e)}),await b(\"notification_sent\",{success:!0}),!0}catch(r){return console.error(\"failed to send notification:\",r),false}}async queryScreenpipe(e){await this.initAnalyticsIfNeeded();let t=new URLSearchParams;Object.entries(e).forEach(([s,a])=>{if(a!==undefined&&a!==\"\")if(s===\"speakerIds\"&&Array.isArray(a))a.length>0&&t.append(m(s),a.join(\",\"));else {let o=m(s);t.append(o,a.toString());}});let r=`http://localhost:3030/search?${t}`;try{let s=await fetch(r);if(!s.ok){let o=await s.text(),u;try{u=JSON.parse(o),console.error(\"screenpipe api error:\",{status:s.status,error:u});}catch{console.error(\"screenpipe api error:\",{status:s.status,error:o});}throw new Error(`http error! status: ${s.status}`)}let a=await s.json();return await b(\"search_performed\",{content_type:e.contentType,result_count:a.pagination.total}),c(a)}catch(s){throw console.error(\"error querying screenpipe:\",s),s}}async initAnalyticsIfNeeded(){if(this.analyticsInitialized)return;let e=await this.settings.getAll();this.analyticsEnabled=e.analyticsEnabled,e.analyticsEnabled&&(this.analyticsInitialized=true);}async captureEvent(e,t){if(!this.analyticsEnabled)return;await this.initAnalyticsIfNeeded();let r=await this.settings.getAll();return b(e,{distinct_id:r.user.id,email:r.user.email,...t})}async captureMainFeatureEvent(e,t){if(this.analyticsEnabled)return await this.initAnalyticsIfNeeded(),A(e,t)}},ae=new E;\n//# sourceMappingURL=index.js.map\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac2NyZWVucGlwZS9qcy9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTJKLDhDQUE4Qyx3QkFBd0IsMkdBQTJHLEdBQUcsUUFBUSxTQUFTLGdCQUFnQix1QkFBdUIsWUFBWSxXQUFXLEtBQUssV0FBVyx1Q0FBdUMsV0FBVyxVQUFVLGNBQWMsb0ZBQW9GLGNBQWMsaUNBQWlDLGdCQUFnQixHQUFHLGNBQWMscUNBQXFDLFdBQVcsc0JBQXNCLEdBQUcsRUFBRSxjQUFjLDRGQUE0RixXQUFXLHNCQUFzQixHQUFHLElBQUksYUFBYSxRQUFRLDZ4QkFBNnhCLDZEQUE2RCxvR0FBb0csU0FBUyxrQkFBa0Isd05BQXdOLGtCQUFrQixTQUFTLFVBQVUsa0JBQWtCLGNBQWMsbUNBQW1DLHFCQUFxQix5QkFBeUIsdUNBQVMsS0FBSyxVQUFVLGVBQWUsc0NBQU0saURBQWlELE1BQU0sNkNBQTZDLHNDQUFNLHFCQUFxQixFQUFFLHNDQUFNLGlCQUFpQixNQUFNLGNBQWMsc0NBQU0sMkJBQTJCLHNDQUFNLG9DQUFvQyxNQUFNLGlEQUFpRCxFQUFFLEdBQUcsTUFBTSxzQ0FBTSwrQkFBK0IsSUFBSSxZQUFZLGlEQUFVLCtCQUErQixzQ0FBc0MsT0FBTyxxQkFBcUIsc0NBQU0sZ0JBQWdCLHNDQUFNLFlBQVksRUFBRSxPQUFPLGFBQWEsSUFBSSx3Q0FBQyxHQUFHLGlDQUFDLG9EQUFvRCx5Q0FBeUMsSUFBSSxNQUFNLDhDQUFPLENBQUMseUNBQVMsa0JBQWtCLGFBQWEsRUFBRSxZQUFZLGlEQUFVLDRDQUE0QyxlQUFlLGFBQWEsc0JBQXNCLFNBQVMsNkRBQTZELGNBQWMsYUFBYSxNQUFNLDhDQUFPLENBQUMseUNBQVMsa0JBQWtCLGVBQWUsRUFBRSx1QkFBdUIsTUFBTSxrREFBVywyQ0FBMkMsYUFBYSw0REFBNEQsZUFBZSwwRUFBMEUsZUFBZSwwQkFBMEIsa0JBQWtCLGdCQUFnQixtREFBbUQsc0JB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LEVBQUUsRUFBRSxZQUFZLDJCQUEyQixzQkFBc0IsZUFBZSxZQUFZLFlBQVksZUFBZSxpQ0FBaUMsbUNBQW1DLCtCQUErQixJQUFJLHNCQUFzQixFQUFFLFVBQVUsdUJBQXVCLGtDQUFrQyx3QkFBd0IsK0JBQStCLFdBQVcsS0FBSyxTQUFTLDhEQUE4RCx5QkFBeUIsbUNBQW1DLDBCQUEwQixvQ0FBb0Msc0dBQXNHLE1BQU0sV0FBVywyQkFBMkIsRUFBRSxzQ0FBc0MsRUFBRSxFQUFFLElBQUkscUJBQXFCLFVBQVUsdUJBQXVCLElBQUksdURBQXVELHdCQUF3QixHQUFHLE1BQU0sdUNBQXVDLHdCQUF3QixHQUFHLHVDQUF1QyxTQUFTLEdBQUcscUJBQXFCLG1DQUFtQywyREFBMkQsT0FBTyxTQUFTLHVEQUF1RCw4QkFBOEIsb0NBQW9DLG1DQUFtQywrRkFBK0Ysd0JBQXdCLGlDQUFpQyxtQ0FBbUMsbUNBQW1DLFlBQVksOENBQThDLEVBQUUsbUNBQW1DLDJFQUEyRTtBQUM1aHJCO0FBQzNDIiwic291cmNlcyI6WyIvaG9tZS9zcGxpbnRlcnN3b3JkL0RvY3VtZW50cy9Db21wdXRlcnMvRGF5bG9nZ2VyLWZyb250ZW5kL0RheUxvZ2dlci9ub2RlX21vZHVsZXMvQHNjcmVlbnBpcGUvanMvZGlzdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcCBmcm9tJ2ZzL3Byb21pc2VzJztpbXBvcnQgaSBmcm9tJ3BhdGgnO2ltcG9ydCBfIGZyb20nb3MnO2ltcG9ydCB7Zm9ya31mcm9tJ2NoaWxkX3Byb2Nlc3MnO2ltcG9ydCB7Y3JlYXRlU2VydmVyfWZyb20nbmV0JztpbXBvcnQgZCBmcm9tJ3Bvc3Rob2ctanMnO3ZhciBTPShuLGU9XCJcIik9Pk9iamVjdC5rZXlzKG4pLnJlZHVjZSgodCxyKT0+e2xldCBzPWUubGVuZ3RoP2UrXCIuXCI6XCJcIjtyZXR1cm4gdHlwZW9mIG5bcl09PVwib2JqZWN0XCImJm5bcl0hPT1udWxsJiYhQXJyYXkuaXNBcnJheShuW3JdKT9PYmplY3QuYXNzaWduKHQsUyhuW3JdLHMrcikpOnRbcytyXT1uW3JdLHR9LHt9KSxQPW49PntsZXQgZT17fTtmb3IobGV0IHQgaW4gbil7bGV0IHI9dC5zcGxpdChcIi5cIikscz1lO2ZvcihsZXQgYT0wO2E8ci5sZW5ndGg7YSsrKXtsZXQgbz1yW2FdO2E9PT1yLmxlbmd0aC0xP3Nbb109blt0XTooc1tvXT1zW29dfHx7fSxzPXNbb10pO319cmV0dXJuIGV9O2Z1bmN0aW9uIEMobil7cmV0dXJuIG4ucmVwbGFjZSgvKFstX11bYS16XSkvZyxlPT5lLnRvVXBwZXJDYXNlKCkucmVwbGFjZShcIi1cIixcIlwiKS5yZXBsYWNlKFwiX1wiLFwiXCIpKX1mdW5jdGlvbiBtKG4pe3JldHVybiBuLnJlcGxhY2UoL1tBLVpdL2csZT0+YF8ke2UudG9Mb3dlckNhc2UoKX1gKX1mdW5jdGlvbiBoKG4pe3JldHVybiBPYmplY3Qua2V5cyhuKS5yZWR1Y2UoKGUsdCk9PntsZXQgcj1tKHQpO3JldHVybiBlW3JdPWgoblt0XSksZX0se30pfWZ1bmN0aW9uIGMobil7cmV0dXJuIEFycmF5LmlzQXJyYXkobik/bi5tYXAoYyk6biE9PW51bGwmJnR5cGVvZiBuPT1cIm9iamVjdFwiP09iamVjdC5rZXlzKG4pLnJlZHVjZSgoZSx0KT0+e2xldCByPUModCk7cmV0dXJuIGVbcl09YyhuW3RdKSxlfSx7fSk6bn1mdW5jdGlvbiBrKCl7cmV0dXJuIHtvcGVuYWlBcGlLZXk6XCJcIixkZWVwZ3JhbUFwaUtleTpcIlwiLGFpTW9kZWw6XCJncHQtNG9cIixhaVVybDpcImh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjFcIixjdXN0b21Qcm9tcHQ6XCJSdWxlczpcXG4gICAgLSBZb3UgY2FuIGFuYWx5emUvdmlldy9zaG93L2FjY2VzcyB2aWRlb3MgdG8gdGhlIHVzZXIgYnkgcHV0dGluZyAubXA0IGZpbGVzIGluIGEgY29kZSBibG9jayAod2UnbGwgcmVuZGVyIGl0KSBsaWtlIHRoaXM6IGAvdXNlcnMvdmlkZW8ubXA0YCwgdXNlIHRoZSBleGFjdCwgYWJzb2x1dGUsIGZpbGUgcGF0aCBmcm9tIGZpbGVfcGF0aCBwcm9wZXJ0eVxcbiAgICAtIERvIG5vdCB0cnkgdG8gZW1iZWQgdmlkZW8gaW4gbGlua3MgKGUuZy4gW10oLm1wNCkgb3IgaHR0cHM6Ly8ubXA0KSBpbnN0ZWFkIHB1dCB0aGUgZmlsZV9wYXRoIGluIGEgY29kZSBibG9jayB1c2luZyBiYWNrdGlja3NcXG4gICAgLSBEbyBub3QgcHV0IHZpZGVvIGluIG11bHRpbGluZSBjb2RlIGJsb2NrIGl0IHdpbGwgbm90IHJlbmRlciB0aGUgdmlkZW8gKGUuZy4gYGBgYmFzaFxcbi5tcDRgYGAgSVMgV1JPTkcpIGluc3RlYWQgdXNpbmcgaW5saW5lIGNvZGUgYmxvY2sgd2l0aCBzaW5nbGUgYmFja3RpY2tcXG4gICAgLSBBbHdheXMgYW5zd2VyIG15IHF1ZXN0aW9uL2ludGVudCwgZG8gbm90IG1ha2UgdXAgdGhpbmdzXFxuICAgIFwiLHBvcnQ6MzAzMCxkYXRhRGlyOlwiZGVmYXVsdFwiLGRpc2FibGVBdWRpbzpmYWxzZSxpZ25vcmVkV2luZG93czpbXSxpbmNsdWRlZFdpbmRvd3M6W10sYWlQcm92aWRlclR5cGU6XCJvcGVuYWlcIixlbWJlZGRlZExMTTp7ZW5hYmxlZDpmYWxzZSxtb2RlbDpcImxsYW1hMy4yOjFiLWluc3RydWN0LXE0X0tfTVwiLHBvcnQ6MTE0MzR9LGVuYWJsZUZyYW1lQ2FjaGU6dHJ1ZSxlbmFibGVVaU1vbml0b3Jpbmc6ZmFsc2UsYWlNYXhDb250ZXh0Q2hhcnM6NTEyZTMsYW5hbHl0aWNzRW5hYmxlZDp0cnVlLHVzZXI6e3Rva2VuOlwiXCJ9LGN1c3RvbVNldHRpbmdzOnt9LG1vbml0b3JJZHM6W1wiZGVmYXVsdFwiXSxhdWRpb0RldmljZXM6W1wiZGVmYXVsdFwiXSxhdWRpb1RyYW5zY3JpcHRpb25FbmdpbmU6XCJ3aGlzcGVyLWxhcmdlLXYzLXR1cmJvXCIsZW5hYmxlUmVhbHRpbWVBdWRpb1RyYW5zY3JpcHRpb246ZmFsc2UscmVhbHRpbWVBdWRpb1RyYW5zY3JpcHRpb25FbmdpbmU6XCJkZWVwZ3JhbVwiLGRpc2FibGVWaXNpb246ZmFsc2UsYWlQcmVzZXRzOltdfX12YXIgeT1rKCksZj1jbGFzc3tzZXR0aW5ncztzdG9yZVBhdGg7aW5pdGlhbGl6ZWQ9ZmFsc2U7Y29uc3RydWN0b3IoKXt0aGlzLnNldHRpbmdzPXksdGhpcy5zdG9yZVBhdGg9XCJcIjt9YXN5bmMgZ2V0U3RvcmVQYXRoKCl7bGV0IGU9cHJvY2Vzcy5wbGF0Zm9ybSx0PV8uaG9tZWRpcigpLHI7c3dpdGNoKGUpe2Nhc2VcImRhcndpblwiOnI9aS5qb2luKHQsXCJMaWJyYXJ5XCIsXCJBcHBsaWNhdGlvbiBTdXBwb3J0XCIsXCJzY3JlZW5waXBlXCIpO2JyZWFrO2Nhc2VcImxpbnV4XCI6bGV0IG89cHJvY2Vzcy5lbnYuWERHX0RBVEFfSE9NRXx8aS5qb2luKHQsXCIubG9jYWxcIixcInNoYXJlXCIpO3I9aS5qb2luKG8sXCJzY3JlZW5waXBlXCIpO2JyZWFrO2Nhc2VcIndpbjMyXCI6cj1pLmpvaW4ocHJvY2Vzcy5lbnYuTE9DQUxBUFBEQVRBfHxpLmpvaW4odCxcIkFwcERhdGFcIixcIkxvY2FsXCIpLFwic2NyZWVucGlwZVwiKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgcGxhdGZvcm06ICR7ZX1gKX1sZXQgcz1pLmpvaW4ocixcInByb2ZpbGVzLmJpblwiKSxhPVwiZGVmYXVsdFwiO3RyeXtsZXQgbz1hd2FpdCBwLnJlYWRGaWxlKHMpLHU9SlNPTi5wYXJzZShvLnRvU3RyaW5nKCkpO3UuYWN0aXZlUHJvZmlsZSYmKGE9dS5hY3RpdmVQcm9maWxlKTt9Y2F0Y2h7fXJldHVybiBhPT09XCJkZWZhdWx0XCI/aS5qb2luKHIsXCJzdG9yZS5iaW5cIik6aS5qb2luKHIsYHN0b3JlLSR7YX0uYmluYCl9YXN5bmMgaW5pdCgpe2lmKCFwfHwhaSl0aHJvdyBuZXcgRXJyb3IoXCJmYWlsZWQgdG8gbG9hZCByZXF1aXJlZCBtb2R1bGVzXCIpO3RoaXMuc3RvcmVQYXRoPWF3YWl0IHRoaXMuZ2V0U3RvcmVQYXRoKCk7dHJ5e2F3YWl0IHAubWtkaXIoaS5kaXJuYW1lKHRoaXMuc3RvcmVQYXRoKSx7cmVjdXJzaXZlOiEwfSk7bGV0IGU9YXdhaXQgcC5yZWFkRmlsZSh0aGlzLnN0b3JlUGF0aCksdD1KU09OLnBhcnNlKGUudG9TdHJpbmcoKSk7dGhpcy5zZXR0aW5ncz17Li4ueSwuLi5QKHQpfSx0aGlzLmluaXRpYWxpemVkPSEwO31jYXRjaChlKXtpZihlLmNvZGU9PT1cIkVOT0VOVFwiKWF3YWl0IHRoaXMuc2F2ZSgpLHRoaXMuaW5pdGlhbGl6ZWQ9dHJ1ZTtlbHNlIHRocm93IGV9fWFzeW5jIHNhdmUoKXthd2FpdCBwLm1rZGlyKGkuZGlybmFtZSh0aGlzLnN0b3JlUGF0aCkse3JlY3Vyc2l2ZTp0cnVlfSk7bGV0IGU9Uyh0aGlzLnNldHRpbmdzKTthd2FpdCBwLndyaXRlRmlsZSh0aGlzLnN0b3JlUGF0aCxKU09OLnN0cmluZ2lmeShlLG51bGwsMikpO31hc3luYyBnZXQoZSl7cmV0dXJuIHRoaXMuaW5pdGlhbGl6ZWR8fGF3YWl0IHRoaXMuaW5pdCgpLHRoaXMuc2V0dGluZ3NbZV19YXN5bmMgc2V0KGUsdCl7dGhpcy5pbml0aWFsaXplZHx8YXdhaXQgdGhpcy5pbml0KCksdGhpcy5zZXR0aW5nc1tlXT10LGF3YWl0IHRoaXMuc2F2ZSgpO31hc3luYyBnZXRBbGwoKXtyZXR1cm4gYXdhaXQgdGhpcy5pbml0KCksey4uLnRoaXMuc2V0dGluZ3N9fWFzeW5jIHVwZGF0ZShlKXt0aGlzLmluaXRpYWxpemVkfHxhd2FpdCB0aGlzLmluaXQoKSx0aGlzLnNldHRpbmdzPXsuLi50aGlzLnNldHRpbmdzLC4uLmV9LGF3YWl0IHRoaXMuc2F2ZSgpO31hc3luYyByZXNldCgpe3RoaXMuc2V0dGluZ3M9ey4uLnl9LGF3YWl0IHRoaXMuc2F2ZSgpO31hc3luYyByZXNldEtleShlKXt0aGlzLmluaXRpYWxpemVkfHxhd2FpdCB0aGlzLmluaXQoKSx0aGlzLnNldHRpbmdzW2VdPXlbZV0sYXdhaXQgdGhpcy5zYXZlKCk7fWFzeW5jIGdldEN1c3RvbVNldHRpbmcoZSx0KXtyZXR1cm4gdGhpcy5pbml0aWFsaXplZHx8YXdhaXQgdGhpcy5pbml0KCksdGhpcy5zZXR0aW5ncy5jdXN0b21TZXR0aW5ncz8uW2VdPy5bdF19YXN5bmMgc2V0Q3VzdG9tU2V0dGluZyhlLHQscil7dGhpcy5pbml0aWFsaXplZHx8YXdhaXQgdGhpcy5pbml0KCksdGhpcy5zZXR0aW5ncy5jdXN0b21TZXR0aW5ncz10aGlzLnNldHRpbmdzLmN1c3RvbVNldHRpbmdzfHx7fSx0aGlzLnNldHRpbmdzLmN1c3RvbVNldHRpbmdzW2VdPXRoaXMuc2V0dGluZ3MuY3VzdG9tU2V0dGluZ3NbZV18fHt9LHRoaXMuc2V0dGluZ3MuY3VzdG9tU2V0dGluZ3NbZV1bdF09cixhd2FpdCB0aGlzLnNhdmUoKTt9YXN5bmMgZ2V0TmFtZXNwYWNlU2V0dGluZ3MoZSl7cmV0dXJuIHRoaXMuaW5pdGlhbGl6ZWR8fGF3YWl0IHRoaXMuaW5pdCgpLHRoaXMuc2V0dGluZ3MuY3VzdG9tU2V0dGluZ3M/LltlXX1hc3luYyB1cGRhdGVOYW1lc3BhY2VTZXR0aW5ncyhlLHQpe3RoaXMuaW5pdGlhbGl6ZWR8fGF3YWl0IHRoaXMuaW5pdCgpLHRoaXMuc2V0dGluZ3MuY3VzdG9tU2V0dGluZ3M9dGhpcy5zZXR0aW5ncy5jdXN0b21TZXR0aW5nc3x8e30sdGhpcy5zZXR0aW5ncy5jdXN0b21TZXR0aW5nc1tlXT10LGF3YWl0IHRoaXMuc2F2ZSgpO319O2FzeW5jIGZ1bmN0aW9uIEooKXtyZXR1cm4gbmV3IFByb21pc2UoKG4sZSk9PntsZXQgdD1jcmVhdGVTZXJ2ZXIoKTt0LnVucmVmKCksdC5vbihcImVycm9yXCIsZSksdC5saXN0ZW4oMCwoKT0+e2xldCByPXQuYWRkcmVzcygpLnBvcnQ7dC5jbG9zZSgoKT0+bihyKSk7fSk7fSl9dmFyIGc9Y2xhc3N7YWN0aW9uU2VydmVyUG9ydDthY3Rpb25TZXJ2ZXJQcm9jZXNzO2FzeW5jIHNlbmQoZSl7dGhpcy5hY3Rpb25TZXJ2ZXJQb3J0fHwodGhpcy5hY3Rpb25TZXJ2ZXJQb3J0PWF3YWl0IEooKSx0aGlzLmFjdGlvblNlcnZlclByb2Nlc3M9Zm9yayhcIi4vaW5ib3gtc2VydmVyLmpzXCIsW3RoaXMuYWN0aW9uU2VydmVyUG9ydC50b1N0cmluZygpXSkpLGUuYWN0aW9ucyYmKGUuYWN0aW9ucz1lLmFjdGlvbnMubWFwKHQ9PntsZXQgcj1jcnlwdG8ucmFuZG9tVVVJRCgpO3JldHVybiB7bGFiZWw6dC5sYWJlbCxhY3Rpb246cixwb3J0OnRoaXMuYWN0aW9uU2VydmVyUG9ydCxjYWxsYmFjazp0LmNhbGxiYWNrfX0pKTt0cnl7cmV0dXJuIChhd2FpdCBmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6MTE0MzUvaW5ib3hcIix7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoey4uLmUsdHlwZTpcImluYm94XCIsYWN0aW9uU2VydmVyUG9ydDp0aGlzLmFjdGlvblNlcnZlclBvcnR9KX0pKS5va31jYXRjaCh0KXtyZXR1cm4gY29uc29sZS5lcnJvcihcImZhaWxlZCB0byBzZW5kIGluYm94IG1lc3NhZ2U6XCIsdCksZmFsc2V9fX07dmFyIHc9Y2xhc3N7YXN5bmMgbGlzdCgpe3RyeXtsZXQgdD1hd2FpdCBmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6MzAzMC9waXBlcy9saXN0XCIse21ldGhvZDpcIkdFVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9fSk7aWYoIXQub2spdGhyb3cgbmV3IEVycm9yKGBodHRwIGVycm9yISBzdGF0dXM6ICR7dC5zdGF0dXN9YCk7cmV0dXJuIHtzdWNjZXNzOiEwLGRhdGE6KGF3YWl0IHQuanNvbigpKS5kYXRhfX1jYXRjaChlKXtyZXR1cm4gY29uc29sZS5lcnJvcihcImZhaWxlZCB0byBsaXN0IHBpcGVzOlwiLGUpLHtzdWNjZXNzOmZhbHNlLGVycm9yOmV9fX1hc3luYyBkb3dubG9hZChlKXt0cnl7bGV0IHI9YXdhaXQgZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjMwMzAvcGlwZXMvZG93bmxvYWRcIix7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe3VybDplfSl9KTtpZighci5vayl0aHJvdyBuZXcgRXJyb3IoYGh0dHAgZXJyb3IhIHN0YXR1czogJHtyLnN0YXR1c31gKTtyZXR1cm4ge3N1Y2Nlc3M6ITAsZGF0YTooYXdhaXQgci5qc29uKCkpLmRhdGF9fWNhdGNoKHQpe3JldHVybiBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGRvd25sb2FkIHBpcGU6XCIsdCkse3N1Y2Nlc3M6ZmFsc2UsZXJyb3I6dH19fWFzeW5jIGVuYWJsZShlKXt0cnl7cmV0dXJuIChhd2FpdCBmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6MzAzMC9waXBlcy9lbmFibGVcIix7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe3BpcGVfaWQ6ZX0pfSkpLm9rfWNhdGNoKHQpe3JldHVybiBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGVuYWJsZSBwaXBlOlwiLHQpLGZhbHNlfX1hc3luYyBkaXNhYmxlKGUpe3RyeXtyZXR1cm4gKGF3YWl0IGZldGNoKFwiaHR0cDovL2xvY2FsaG9zdDozMDMwL3BpcGVzL2Rpc2FibGVcIix7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe3BpcGVfaWQ6ZX0pfSkpLm9rfWNhdGNoKHQpe3JldHVybiBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGRpc2FibGUgcGlwZTpcIix0KSxmYWxzZX19YXN5bmMgdXBkYXRlKGUsdCl7dHJ5e3JldHVybiAoYXdhaXQgZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjMwMzAvcGlwZXMvdXBkYXRlXCIse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtwaXBlX2lkOmUsY29uZmlnOnR9KX0pKS5va31jYXRjaChyKXtyZXR1cm4gY29uc29sZS5lcnJvcihcImZhaWxlZCB0byB1cGRhdGUgcGlwZTpcIixyKSxmYWxzZX19YXN5bmMgaW5mbyhlKXt0cnl7bGV0IHI9YXdhaXQgZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6MzAzMC9waXBlcy9pbmZvLyR7ZX1gLHttZXRob2Q6XCJHRVRcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifX0pO2lmKCFyLm9rKXRocm93IG5ldyBFcnJvcihgaHR0cCBlcnJvciEgc3RhdHVzOiAke3Iuc3RhdHVzfWApO3JldHVybiB7c3VjY2VzczohMCxkYXRhOihhd2FpdCByLmpzb24oKSkuZGF0YX19Y2F0Y2godCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gZ2V0IHBpcGUgaW5mbzpcIix0KSx7c3VjY2VzczpmYWxzZSxlcnJvcjp0fX19YXN5bmMgZG93bmxvYWRQcml2YXRlKGUsdCxyKXt0cnl7bGV0IGE9YXdhaXQgZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjMwMzAvcGlwZXMvZG93bmxvYWQtcHJpdmF0ZVwiLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeSh7dXJsOmUscGlwZV9uYW1lOnQscGlwZV9pZDpyfSl9KTtpZighYS5vayl0aHJvdyBuZXcgRXJyb3IoYGh0dHAgZXJyb3IhIHN0YXR1czogJHthLnN0YXR1c31gKTtyZXR1cm4ge3N1Y2Nlc3M6ITAsZGF0YTooYXdhaXQgYS5qc29uKCkpLmRhdGF9fWNhdGNoKHMpe3JldHVybiBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGRvd25sb2FkIHByaXZhdGUgcGlwZTpcIixzKSx7c3VjY2VzczpmYWxzZSxlcnJvcjpzfX19YXN5bmMgZGVsZXRlKGUpe3RyeXtyZXR1cm4gKGF3YWl0IGZldGNoKFwiaHR0cDovL2xvY2FsaG9zdDozMDMwL3BpcGVzL2RlbGV0ZVwiLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeSh7cGlwZV9pZDplfSl9KSkub2t9Y2F0Y2godCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gZGVsZXRlIHBpcGU6XCIsdCksZmFsc2V9fX07dmFyIHY9ZmFsc2UsbD1udWxsLEk9XCJwaGNfQnQ4R29UQlBna0NwRHJiYUlaekpJRVl0MENySmpoQml1TGFCY2sxY2xjZVwiLFU9XCJodHRwczovL2V1LmkucG9zdGhvZy5jb21cIjtmdW5jdGlvbiBPKG4pe2w9bjt9ZnVuY3Rpb24gJChuLGUpeyF2JiZsJiYobC5pbml0KEkse2FwaV9ob3N0OlUsZGlzdGluY3RfaWQ6bixlbWFpbDplfSksbC5pZGVudGlmeShuLHtlbWFpbDplfSksdj10cnVlKTt9YXN5bmMgZnVuY3Rpb24gYihuLGUpe2lmKCFsKXJldHVybjskKGU/LmRpc3RpbmN0X2lkLGU/LmVtYWlsKTtsZXR7ZGlzdGluY3RfaWQ6dCwuLi5yfT1lfHx7fTtsLmNhcHR1cmUobixyKTt9YXN5bmMgZnVuY3Rpb24gQShuLGUpe2lmKCFsKXJldHVybjskKGU/LmRpc3RpbmN0X2lkLGU/LmVtYWlsKTtsZXR7ZGlzdGluY3RfaWQ6dCwuLi5yfT1lfHx7fTtsLmNhcHR1cmUobix7ZmVhdHVyZTpcIm1haW5cIiwuLi5yfSk7fXZhciB4PWNsYXNze2Jhc2VVcmw7cGl4ZWw7Y29uc3RydWN0b3IoZT1cImh0dHA6Ly9sb2NhbGhvc3Q6MzAzMFwiKXt0aGlzLmJhc2VVcmw9ZSx0aGlzLnBpeGVsPXt0eXBlOnQ9PnRoaXMuc2VuZElucHV0Q29udHJvbCh7dHlwZTpcIldyaXRlVGV4dFwiLGRhdGE6dH0pLHByZXNzOnQ9PnRoaXMuc2VuZElucHV0Q29udHJvbCh7dHlwZTpcIktleVByZXNzXCIsZGF0YTp0fSksbW92ZU1vdXNlOih0LHIpPT50aGlzLnNlbmRJbnB1dENvbnRyb2woe3R5cGU6XCJNb3VzZU1vdmVcIixkYXRhOnt4OnQseTpyfX0pLGNsaWNrOnQ9PnRoaXMuc2VuZElucHV0Q29udHJvbCh7dHlwZTpcIk1vdXNlQ2xpY2tcIixkYXRhOnR9KX07fWFzeW5jIHNlbmRJbnB1dENvbnRyb2woZSl7dHJ5e2xldCB0PWF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vZXhwZXJpbWVudGFsL29wZXJhdG9yL3BpeGVsYCx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe2FjdGlvbjplfSl9KTtpZighdC5vayl0aHJvdyBuZXcgRXJyb3IoYGh0dHAgZXJyb3IhIHN0YXR1czogJHt0LnN0YXR1c31gKTtyZXR1cm4gKGF3YWl0IHQuanNvbigpKS5zdWNjZXNzfWNhdGNoKHQpe3JldHVybiBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGNvbnRyb2wgaW5wdXQ6XCIsdCksZmFsc2V9fWxvY2F0b3IoZSl7aWYoZS5yb2xlJiZlLmlkKXRocm93IG5ldyBFcnJvcihcIm9ubHkgb25lIG9mICdyb2xlJyBvciAnaWQnIGNhbiBiZSBzcGVjaWZpZWQuIG5lZWQgYm90aD8gZG0gdXMhXCIpO2xldCB0PXthcHBfbmFtZTplLmFwcCx3aW5kb3dfbmFtZTplLndpbmRvdyxsb2NhdG9yOmUucm9sZXx8KGUuaWQ/YCMke2UuaWR9YDpcIlwiKSx1c2VfYmFja2dyb3VuZF9hcHBzOmUudXNlQmFja2dyb3VuZEFwcHMsYWN0aXZhdGVfYXBwOmUuYWN0aXZhdGVBcHB9O3JldHVybiBuZXcgVCh0aGlzLmJhc2VVcmwsdCl9YXN5bmMgY2xpY2soZSl7bGV0IHQ9e2FwcF9uYW1lOmUuYXBwLHdpbmRvd19uYW1lOmUud2luZG93LGxvY2F0b3I6YCMke2UuaWR9YCx1c2VfYmFja2dyb3VuZF9hcHBzOmUudXNlQmFja2dyb3VuZEFwcHMsYWN0aXZhdGVfYXBwOmUuYWN0aXZhdGVBcHAhPT1mYWxzZX0scj1hd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2V4cGVyaW1lbnRhbC9vcGVyYXRvci9jbGlja2Ase21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtzZWxlY3Rvcjp0fSl9KTtpZighci5vayl7bGV0IGE9YXdhaXQgci50ZXh0KCk7Y29uc29sZS5sb2coXCJlcnJvciByZXNwb25zZTpcIixhKTt0cnl7bGV0IG89SlNPTi5wYXJzZShhKTt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBjbGljayBlbGVtZW50OiAke28uZXJyb3J8fHIuc3RhdHVzVGV4dH1gKX1jYXRjaHt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBjbGljayBlbGVtZW50IChzdGF0dXMgJHtyLnN0YXR1c30pOiAke2F8fHIuc3RhdHVzVGV4dH1gKX19bGV0IHM9YXdhaXQgci5qc29uKCk7aWYoY29uc29sZS5sb2coXCJkZWJ1ZzogY2xpY2sgcmVzcG9uc2UgZGF0YTpcIixKU09OLnN0cmluZ2lmeShzLG51bGwsMikpLCFzLnN1Y2Nlc3MpdGhyb3cgbmV3IEVycm9yKGBjbGljayBvcGVyYXRpb24gZmFpbGVkOiAke3MuZXJyb3J8fFwidW5rbm93biBlcnJvclwifWApO3JldHVybiBzLnJlc3VsdD9jKHMucmVzdWx0KTpzLm1ldGhvZD97bWV0aG9kOnMubWV0aG9kLGNvb3JkaW5hdGVzOnMuY29vcmRpbmF0ZXMsZGV0YWlsczpzLmRldGFpbHN8fFwiQ2xpY2sgb3BlcmF0aW9uIHN1Y2NlZWRlZFwifTooY29uc29sZS5sb2coXCJ3YXJuaW5nOiBjbGljayByZXNwb25zZSBtaXNzaW5nIGV4cGVjdGVkIHN0cnVjdHVyZSwgY3JlYXRpbmcgZmFsbGJhY2sgb2JqZWN0XCIpLHttZXRob2Q6XCJNb3VzZVNpbXVsYXRpb25cIixjb29yZGluYXRlczp1bmRlZmluZWQsZGV0YWlsczpcIkNsaWNrIG9wZXJhdGlvbiBzdWNjZWVkZWQgYnV0IHJldHVybmVkIHVuZXhwZWN0ZWQgZGF0YSBzdHJ1Y3R1cmVcIn0pfWFzeW5jIGZpbGwoZSl7bGV0IHQ9e2FwcF9uYW1lOmUuYXBwLGxvY2F0b3I6YCMke2UuaWR9YCx1c2VfYmFja2dyb3VuZF9hcHBzOmUudXNlQmFja2dyb3VuZEFwcHMsYWN0aXZhdGVfYXBwOmUuYWN0aXZhdGVBcHAhPT1mYWxzZX07Y29uc29sZS5sb2coXCJzZWxlY3RvclwiLHQpO2xldCByPWF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vZXhwZXJpbWVudGFsL29wZXJhdG9yL3R5cGVgLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeSh7c2VsZWN0b3I6dCx0ZXh0OmUudmFsdWV9KX0pO2lmKCFyLm9rKXtsZXQgYT1hd2FpdCByLnRleHQoKTtjb25zb2xlLmxvZyhcImVycm9yIHJlc3BvbnNlOlwiLGEpO3RyeXtsZXQgbz1KU09OLnBhcnNlKGEpO3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIHR5cGUgdGV4dDogJHtvLmVycm9yfHxyLnN0YXR1c1RleHR9YCl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gdHlwZSB0ZXh0IChzdGF0dXMgJHtyLnN0YXR1c30pOiAke2F8fHIuc3RhdHVzVGV4dH1gKX19cmV0dXJuIChhd2FpdCByLmpzb24oKSkuc3VjY2Vzc31nZXRCeVJvbGUoZSx0KXtyZXR1cm4gdGhpcy5sb2NhdG9yKHthcHA6dD8uYXBwfHxcIlwiLHdpbmRvdzp0Py53aW5kb3cscm9sZTplLHVzZUJhY2tncm91bmRBcHBzOnQ/LnVzZUJhY2tncm91bmRBcHBzLGFjdGl2YXRlQXBwOnQ/LmFjdGl2YXRlQXBwfSl9Z2V0QnlJZChlLHQpe3JldHVybiB0aGlzLmxvY2F0b3Ioe2FwcDp0Py5hcHB8fFwiXCIsd2luZG93OnQ/LndpbmRvdyxpZDplLHVzZUJhY2tncm91bmRBcHBzOnQ/LnVzZUJhY2tncm91bmRBcHBzLGFjdGl2YXRlQXBwOnQ/LmFjdGl2YXRlQXBwfSl9YXN5bmMgZ2V0VGV4dChlKXtsZXQgdD17YXBwTmFtZTplLmFwcCx3aW5kb3dOYW1lOmUud2luZG93LG1heERlcHRoOmUubWF4RGVwdGgsdXNlQmFja2dyb3VuZEFwcHM6ZS51c2VCYWNrZ3JvdW5kQXBwcyxhY3RpdmF0ZUFwcDplLmFjdGl2YXRlQXBwIT09ZmFsc2V9LHI9YXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9leHBlcmltZW50YWwvb3BlcmF0b3IvZ2V0X3RleHRgLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeShoKHQpKX0pO2lmKCFyLm9rKXtsZXQgYT1hd2FpdCByLnRleHQoKTtjb25zb2xlLmxvZyhcImVycm9yIHJlc3BvbnNlOlwiLGEpO3RyeXtsZXQgbz1KU09OLnBhcnNlKGEpO3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGdldCB0ZXh0OiAke28uZXJyb3J8fHIuc3RhdHVzVGV4dH1gKX1jYXRjaHt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBnZXQgdGV4dCAoc3RhdHVzICR7ci5zdGF0dXN9KTogJHthfHxyLnN0YXR1c1RleHR9YCl9fWxldCBzPWF3YWl0IHIuanNvbigpO2lmKGNvbnNvbGUubG9nKFwiZGVidWc6IHRleHQgcmVzcG9uc2UgZGF0YTpcIixKU09OLnN0cmluZ2lmeShzLG51bGwsMikpLCFzLnN1Y2Nlc3MpdGhyb3cgbmV3IEVycm9yKGBnZXRfdGV4dCBvcGVyYXRpb24gZmFpbGVkOiAke3MuZXJyb3J8fFwidW5rbm93biBlcnJvclwifWApO3JldHVybiBjKHMpfWFzeW5jIGdldEludGVyYWN0YWJsZUVsZW1lbnRzKGUpe2xldCB0PXthcHBOYW1lOmUuYXBwLHdpbmRvd05hbWU6ZS53aW5kb3csd2l0aFRleHRPbmx5OmUud2l0aFRleHRPbmx5LGludGVyYWN0YWJsZU9ubHk6ZS5pbnRlcmFjdGFibGVPbmx5LGluY2x1ZGVTb21ldGltZXNJbnRlcmFjdGFibGU6ZS5pbmNsdWRlU29tZXRpbWVzSW50ZXJhY3RhYmxlLG1heEVsZW1lbnRzOmUubWF4RWxlbWVudHMsdXNlQmFja2dyb3VuZEFwcHM6ZS51c2VCYWNrZ3JvdW5kQXBwcyxhY3RpdmF0ZUFwcDplLmFjdGl2YXRlQXBwfSxyPWF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vZXhwZXJpbWVudGFsL29wZXJhdG9yL2xpc3QtaW50ZXJhY3RhYmxlLWVsZW1lbnRzYCx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoaCh0KSl9KTtpZighci5vayl7bGV0IGE9YXdhaXQgci50ZXh0KCk7Y29uc29sZS5sb2coXCJlcnJvciByZXNwb25zZTpcIixhKTt0cnl7bGV0IG89SlNPTi5wYXJzZShhKTt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBnZXQgaW50ZXJhY3RhYmxlIGVsZW1lbnRzOiAke28uZXJyb3J8fHIuc3RhdHVzVGV4dH1gKX1jYXRjaHt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBnZXQgaW50ZXJhY3RhYmxlIGVsZW1lbnRzIChzdGF0dXMgJHtyLnN0YXR1c30pOiAke2F8fHIuc3RhdHVzVGV4dH1gKX19bGV0IHM9YXdhaXQgci5qc29uKCk7cmV0dXJuIGNvbnNvbGUubG9nKFwiZGVidWc6IHRleHQgcmVzcG9uc2UgZGF0YTpcIixKU09OLnN0cmluZ2lmeShzLG51bGwsMikpLGMocyl9YXN5bmMgY2xpY2tCeUluZGV4KGUpe2xldCB0PWF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vZXhwZXJpbWVudGFsL29wZXJhdG9yL2NsaWNrLWJ5LWluZGV4YCx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe2VsZW1lbnRfaW5kZXg6ZX0pfSk7aWYoIXQub2spe2xldCBzPWF3YWl0IHQudGV4dCgpO2NvbnNvbGUubG9nKFwiZXJyb3IgcmVzcG9uc2U6XCIscyk7dHJ5e2xldCBhPUpTT04ucGFyc2Uocyk7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gY2xpY2sgZWxlbWVudCBieSBpbmRleDogJHthLmVycm9yfHx0LnN0YXR1c1RleHR9YCl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gY2xpY2sgZWxlbWVudCBieSBpbmRleCAoc3RhdHVzICR7dC5zdGF0dXN9KTogJHtzfHx0LnN0YXR1c1RleHR9YCl9fWxldCByPWF3YWl0IHQuanNvbigpO2lmKCFyLnN1Y2Nlc3MpdGhyb3cgbmV3IEVycm9yKGBjbGljayBvcGVyYXRpb24gZmFpbGVkOiAke3IubWVzc2FnZXx8XCJ1bmtub3duIGVycm9yXCJ9YCk7cmV0dXJuIHIuc3VjY2Vzc31hc3luYyB0eXBlQnlJbmRleChlLHQpe2xldCByPWF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vZXhwZXJpbWVudGFsL29wZXJhdG9yL3R5cGUtYnktaW5kZXhgLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeSh7ZWxlbWVudF9pbmRleDplLHRleHQ6dH0pfSk7aWYoIXIub2spe2xldCBhPWF3YWl0IHIudGV4dCgpO2NvbnNvbGUubG9nKFwiZXJyb3IgcmVzcG9uc2U6XCIsYSk7dHJ5e2xldCBvPUpTT04ucGFyc2UoYSk7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gdHlwZSB0ZXh0IGludG8gZWxlbWVudCBieSBpbmRleDogJHtvLmVycm9yfHxyLnN0YXR1c1RleHR9YCl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gdHlwZSB0ZXh0IGludG8gZWxlbWVudCBieSBpbmRleCAoc3RhdHVzICR7ci5zdGF0dXN9KTogJHthfHxyLnN0YXR1c1RleHR9YCl9fWxldCBzPWF3YWl0IHIuanNvbigpO2lmKCFzLnN1Y2Nlc3MpdGhyb3cgbmV3IEVycm9yKGB0eXBlIG9wZXJhdGlvbiBmYWlsZWQ6ICR7cy5tZXNzYWdlfHxcInVua25vd24gZXJyb3JcIn1gKTtyZXR1cm4gcy5zdWNjZXNzfWFzeW5jIHByZXNzS2V5KGUpe2xldCB0PXthcHBfbmFtZTplLmFwcCx3aW5kb3dfbmFtZTplLndpbmRvdyxsb2NhdG9yOmAjJHtlLmlkfWAsdXNlX2JhY2tncm91bmRfYXBwczplLnVzZUJhY2tncm91bmRBcHBzLGFjdGl2YXRlX2FwcDplLmFjdGl2YXRlQXBwIT09ZmFsc2V9LHI9YXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9leHBlcmltZW50YWwvb3BlcmF0b3IvcHJlc3Mta2V5YCx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoaCh7c2VsZWN0b3I6dCxrZXlDb21ibzplLmtleX0pKX0pO2lmKCFyLm9rKXtsZXQgYT1hd2FpdCByLnRleHQoKTtjb25zb2xlLmxvZyhcImVycm9yIHJlc3BvbnNlOlwiLGEpO3RyeXtsZXQgbz1KU09OLnBhcnNlKGEpO3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIHByZXNzIGtleTogJHtvLmVycm9yfHxyLnN0YXR1c1RleHR9YCl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gcHJlc3Mga2V5IChzdGF0dXMgJHtyLnN0YXR1c30pOiAke2F8fHIuc3RhdHVzVGV4dH1gKX19cmV0dXJuIChhd2FpdCByLmpzb24oKSkuc3VjY2Vzc31hc3luYyBwcmVzc0tleUJ5SW5kZXgoZSx0KXtsZXQgcj1hd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2V4cGVyaW1lbnRhbC9vcGVyYXRvci9wcmVzcy1rZXktYnktaW5kZXhgLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeSh7ZWxlbWVudF9pbmRleDplLGtleV9jb21ibzp0fSl9KTtpZighci5vayl7bGV0IGE9YXdhaXQgci50ZXh0KCk7Y29uc29sZS5sb2coXCJlcnJvciByZXNwb25zZTpcIixhKTt0cnl7bGV0IG89SlNPTi5wYXJzZShhKTt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBwcmVzcyBrZXkgb24gZWxlbWVudCBieSBpbmRleDogJHtvLmVycm9yfHxyLnN0YXR1c1RleHR9YCl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gcHJlc3Mga2V5IG9uIGVsZW1lbnQgYnkgaW5kZXggKHN0YXR1cyAke3Iuc3RhdHVzfSk6ICR7YXx8ci5zdGF0dXNUZXh0fWApfX1sZXQgcz1hd2FpdCByLmpzb24oKTtpZighcy5zdWNjZXNzKXRocm93IG5ldyBFcnJvcihgcHJlc3Mga2V5IG9wZXJhdGlvbiBmYWlsZWQ6ICR7cy5tZXNzYWdlfHxcInVua25vd24gZXJyb3JcIn1gKTtyZXR1cm4gcy5zdWNjZXNzfWFzeW5jIG9wZW5BcHBsaWNhdGlvbihlKXtsZXQgdD1hd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2V4cGVyaW1lbnRhbC9vcGVyYXRvci9vcGVuLWFwcGxpY2F0aW9uYCx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe2FwcF9uYW1lOmV9KX0pO2lmKCF0Lm9rKXtsZXQgcz1hd2FpdCB0LnRleHQoKTtjb25zb2xlLmxvZyhcImVycm9yIHJlc3BvbnNlOlwiLHMpO3RyeXtsZXQgYT1KU09OLnBhcnNlKHMpO3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIG9wZW4gYXBwbGljYXRpb246ICR7YS5lcnJvcnx8dC5zdGF0dXNUZXh0fWApfWNhdGNoe3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIG9wZW4gYXBwbGljYXRpb24gKHN0YXR1cyAke3Quc3RhdHVzfSk6ICR7c3x8dC5zdGF0dXNUZXh0fWApfX1sZXQgcj1hd2FpdCB0Lmpzb24oKTtpZighci5zdWNjZXNzKXRocm93IG5ldyBFcnJvcihgb3BlbiBhcHBsaWNhdGlvbiBvcGVyYXRpb24gZmFpbGVkOiAke3IubWVzc2FnZXx8XCJ1bmtub3duIGVycm9yXCJ9YCk7cmV0dXJuIHIuc3VjY2Vzc31hc3luYyBvcGVuVXJsKGUsdCl7bGV0IHI9YXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9leHBlcmltZW50YWwvb3BlcmF0b3Ivb3Blbi11cmxgLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeSh7dXJsOmUsYnJvd3Nlcjp0fSl9KTtpZighci5vayl7bGV0IGE9YXdhaXQgci50ZXh0KCk7Y29uc29sZS5sb2coXCJlcnJvciByZXNwb25zZTpcIixhKTt0cnl7bGV0IG89SlNPTi5wYXJzZShhKTt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBvcGVuIHVybDogJHtvLmVycm9yfHxyLnN0YXR1c1RleHR9YCl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gb3BlbiB1cmwgKHN0YXR1cyAke3Iuc3RhdHVzfSk6ICR7YXx8ci5zdGF0dXNUZXh0fWApfX1sZXQgcz1hd2FpdCByLmpzb24oKTtpZighcy5zdWNjZXNzKXRocm93IG5ldyBFcnJvcihgb3BlbiB1cmwgb3BlcmF0aW9uIGZhaWxlZDogJHtzLm1lc3NhZ2V8fFwidW5rbm93biBlcnJvclwifWApO3JldHVybiBzLnN1Y2Nlc3N9YXN5bmMgc2Nyb2xsKGUpe2xldCB0PXthcHBfbmFtZTplLmFwcCx3aW5kb3dfbmFtZTplLndpbmRvdyxsb2NhdG9yOmUuaWQ/YCMke2UuaWR9YDpcIlwiLHVzZV9iYWNrZ3JvdW5kX2FwcHM6ZS51c2VCYWNrZ3JvdW5kQXBwcyxhY3RpdmF0ZV9hcHA6ZS5hY3RpdmF0ZUFwcCE9PWZhbHNlfSxyPWF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vZXhwZXJpbWVudGFsL29wZXJhdG9yL3Njcm9sbGAse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtzZWxlY3Rvcjp0LGRpcmVjdGlvbjplLmRpcmVjdGlvbixhbW91bnQ6ZS5hbW91bnR9KX0pO2lmKCFyLm9rKXtsZXQgYT1hd2FpdCByLnRleHQoKTtjb25zb2xlLmxvZyhcImVycm9yIHJlc3BvbnNlOlwiLGEpO3RyeXtsZXQgbz1KU09OLnBhcnNlKGEpO3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIHNjcm9sbCBlbGVtZW50OiAke28uZXJyb3J8fHIuc3RhdHVzVGV4dH1gKX1jYXRjaHt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBzY3JvbGwgZWxlbWVudCAoc3RhdHVzICR7ci5zdGF0dXN9KTogJHthfHxyLnN0YXR1c1RleHR9YCl9fXJldHVybiAoYXdhaXQgci5qc29uKCkpLnN1Y2Nlc3N9fSxUPWNsYXNze2Jhc2VVcmw7c2VsZWN0b3I7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmJhc2VVcmw9ZSx0aGlzLnNlbGVjdG9yPXQ7fWFzeW5jIGZpcnN0KGUpe2xldCB0PWF3YWl0IHRoaXMuYWxsKDEsZSk7cmV0dXJuIHQubGVuZ3RoPjA/dFswXTpudWxsfWFzeW5jIGFsbChlLHQpe2xldCByPWF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vZXhwZXJpbWVudGFsL29wZXJhdG9yYCx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe3NlbGVjdG9yOnRoaXMuc2VsZWN0b3IsbWF4X3Jlc3VsdHM6ZSxtYXhfZGVwdGg6dH0pfSk7aWYoIXIub2spe2xldCBhPWF3YWl0IHIudGV4dCgpO2NvbnNvbGUubG9nKFwiZXJyb3IgcmVzcG9uc2U6XCIsYSk7dHJ5e2xldCBvPUpTT04ucGFyc2UoYSk7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gZmluZCBlbGVtZW50czogJHtvLmVycm9yfHxyLnN0YXR1c1RleHR9YCl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gZmluZCBlbGVtZW50cyAoc3RhdHVzICR7ci5zdGF0dXN9KTogJHthfHxyLnN0YXR1c1RleHR9YCl9fXJldHVybiAoYXdhaXQgci5qc29uKCkpLmRhdGF9YXN5bmMgY2xpY2soKXtsZXQgZT1hd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2V4cGVyaW1lbnRhbC9vcGVyYXRvci9jbGlja2Ase21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtzZWxlY3Rvcjp7Li4udGhpcy5zZWxlY3RvcixhY3RpdmF0ZV9hcHA6dGhpcy5zZWxlY3Rvci5hY3RpdmF0ZV9hcHAhPT1mYWxzZX19KX0pO2lmKCFlLm9rKXtsZXQgcj1hd2FpdCBlLnRleHQoKTtjb25zb2xlLmxvZyhcImVycm9yIHJlc3BvbnNlOlwiLHIpO3RyeXtsZXQgcz1KU09OLnBhcnNlKHIpO3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGNsaWNrIGVsZW1lbnQ6ICR7cy5lcnJvcnx8ZS5zdGF0dXNUZXh0fWApfWNhdGNoe3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGNsaWNrIGVsZW1lbnQgKHN0YXR1cyAke2Uuc3RhdHVzfSk6ICR7cnx8ZS5zdGF0dXNUZXh0fWApfX1sZXQgdD1hd2FpdCBlLmpzb24oKTtpZihjb25zb2xlLmxvZyhcImRlYnVnOiBjbGljayByZXNwb25zZSBkYXRhOlwiLEpTT04uc3RyaW5naWZ5KHQsbnVsbCwyKSksIXQuc3VjY2Vzcyl0aHJvdyBuZXcgRXJyb3IoYGNsaWNrIG9wZXJhdGlvbiBmYWlsZWQ6ICR7dC5lcnJvcnx8XCJ1bmtub3duIGVycm9yXCJ9YCk7cmV0dXJuIHQucmVzdWx0P3QucmVzdWx0OnQubWV0aG9kP3ttZXRob2Q6dC5tZXRob2QsY29vcmRpbmF0ZXM6dC5jb29yZGluYXRlcyxkZXRhaWxzOnQuZGV0YWlsc3x8XCJDbGljayBvcGVyYXRpb24gc3VjY2VlZGVkXCJ9Oihjb25zb2xlLmxvZyhcIndhcm5pbmc6IGNsaWNrIHJlc3BvbnNlIG1pc3NpbmcgZXhwZWN0ZWQgc3RydWN0dXJlLCBjcmVhdGluZyBmYWxsYmFjayBvYmplY3RcIikse21ldGhvZDpcIk1vdXNlU2ltdWxhdGlvblwiLGNvb3JkaW5hdGVzOnVuZGVmaW5lZCxkZXRhaWxzOlwiQ2xpY2sgb3BlcmF0aW9uIHN1Y2NlZWRlZCBidXQgcmV0dXJuZWQgdW5leHBlY3RlZCBkYXRhIHN0cnVjdHVyZVwifSl9YXN5bmMgZmlsbChlKXtsZXQgdD1hd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2V4cGVyaW1lbnRhbC9vcGVyYXRvci90eXBlYCx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe3NlbGVjdG9yOnsuLi50aGlzLnNlbGVjdG9yLGFjdGl2YXRlX2FwcDp0aGlzLnNlbGVjdG9yLmFjdGl2YXRlX2FwcCE9PWZhbHNlfSx0ZXh0OmV9KX0pO2lmKCF0Lm9rKXtsZXQgcz1hd2FpdCB0LnRleHQoKTtjb25zb2xlLmxvZyhcImVycm9yIHJlc3BvbnNlOlwiLHMpO3RyeXtsZXQgYT1KU09OLnBhcnNlKHMpO3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIHR5cGUgdGV4dDogJHthLmVycm9yfHx0LnN0YXR1c1RleHR9YCl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gdHlwZSB0ZXh0IChzdGF0dXMgJHt0LnN0YXR1c30pOiAke3N8fHQuc3RhdHVzVGV4dH1gKX19cmV0dXJuIChhd2FpdCB0Lmpzb24oKSkuc3VjY2Vzc31hc3luYyBleGlzdHMoKXt0cnl7cmV0dXJuICEhYXdhaXQgdGhpcy5maXJzdCgpfWNhdGNoe3JldHVybiBmYWxzZX19YXN5bmMgd2FpdEZvcihlPXt9KXtsZXQgdD1EYXRlLm5vdygpLHI9ZS50aW1lb3V0fHwzZTQ7Zm9yKDtEYXRlLm5vdygpLXQ8cjspe3RyeXtsZXQgcz1hd2FpdCB0aGlzLmZpcnN0KCk7aWYocylyZXR1cm4gc31jYXRjaHt9YXdhaXQgbmV3IFByb21pc2Uocz0+c2V0VGltZW91dChzLDEwMCkpO31yZXR1cm4gbnVsbH1hc3luYyBwcmVzc0tleShlKXtsZXQgdD1hd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2V4cGVyaW1lbnRhbC9vcGVyYXRvci9wcmVzcy1rZXlgLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeSh7c2VsZWN0b3I6ey4uLnRoaXMuc2VsZWN0b3IsYWN0aXZhdGVfYXBwOnRoaXMuc2VsZWN0b3IuYWN0aXZhdGVfYXBwIT09ZmFsc2V9LGtleV9jb21ibzplfSl9KTtpZighdC5vayl7bGV0IHM9YXdhaXQgdC50ZXh0KCk7Y29uc29sZS5sb2coXCJlcnJvciByZXNwb25zZTpcIixzKTt0cnl7bGV0IGE9SlNPTi5wYXJzZShzKTt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBwcmVzcyBrZXk6ICR7YS5lcnJvcnx8dC5zdGF0dXNUZXh0fWApfWNhdGNoe3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIHByZXNzIGtleSAoc3RhdHVzICR7dC5zdGF0dXN9KTogJHtzfHx0LnN0YXR1c1RleHR9YCl9fXJldHVybiAoYXdhaXQgdC5qc29uKCkpLnN1Y2Nlc3N9YXN5bmMgc2Nyb2xsKGUsdCl7bGV0IHI9YXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9leHBlcmltZW50YWwvb3BlcmF0b3Ivc2Nyb2xsYCx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe3NlbGVjdG9yOnsuLi50aGlzLnNlbGVjdG9yLGFjdGl2YXRlX2FwcDp0aGlzLnNlbGVjdG9yLmFjdGl2YXRlX2FwcCE9PWZhbHNlfSxkaXJlY3Rpb246ZSxhbW91bnQ6dH0pfSk7aWYoIXIub2spe2xldCBhPWF3YWl0IHIudGV4dCgpO2NvbnNvbGUubG9nKFwiZXJyb3IgcmVzcG9uc2U6XCIsYSk7dHJ5e2xldCBvPUpTT04ucGFyc2UoYSk7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gc2Nyb2xsIGVsZW1lbnQ6ICR7by5lcnJvcnx8ci5zdGF0dXNUZXh0fWApfWNhdGNoe3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIHNjcm9sbCBlbGVtZW50IChzdGF0dXMgJHtyLnN0YXR1c30pOiAke2F8fHIuc3RhdHVzVGV4dH1gKX19cmV0dXJuIChhd2FpdCByLmpzb24oKSkuc3VjY2Vzc319O08oe2luaXQ6ZC5pbml0LmJpbmQoZCksaWRlbnRpZnk6ZC5pZGVudGlmeS5iaW5kKGQpLGNhcHR1cmU6ZC5jYXB0dXJlLmJpbmQoZCl9KTt2YXIgRT1jbGFzc3thbmFseXRpY3NJbml0aWFsaXplZD1mYWxzZTthbmFseXRpY3NFbmFibGVkPXRydWU7c2V0dGluZ3M9bmV3IGY7aW5ib3g9bmV3IGc7cGlwZXM9bmV3IHc7b3BlcmF0b3I9bmV3IHg7YXN5bmMgc2VuZERlc2t0b3BOb3RpZmljYXRpb24oZSl7YXdhaXQgdGhpcy5pbml0QW5hbHl0aWNzSWZOZWVkZWQoKTtsZXQgdD1cImh0dHA6Ly9sb2NhbGhvc3Q6MTE0MzVcIjt0cnl7cmV0dXJuIGF3YWl0IGZldGNoKGAke3R9L25vdGlmeWAse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KGUpfSksYXdhaXQgYihcIm5vdGlmaWNhdGlvbl9zZW50XCIse3N1Y2Nlc3M6ITB9KSwhMH1jYXRjaChyKXtyZXR1cm4gY29uc29sZS5lcnJvcihcImZhaWxlZCB0byBzZW5kIG5vdGlmaWNhdGlvbjpcIixyKSxmYWxzZX19YXN5bmMgcXVlcnlTY3JlZW5waXBlKGUpe2F3YWl0IHRoaXMuaW5pdEFuYWx5dGljc0lmTmVlZGVkKCk7bGV0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcztPYmplY3QuZW50cmllcyhlKS5mb3JFYWNoKChbcyxhXSk9PntpZihhIT09dW5kZWZpbmVkJiZhIT09XCJcIilpZihzPT09XCJzcGVha2VySWRzXCImJkFycmF5LmlzQXJyYXkoYSkpYS5sZW5ndGg+MCYmdC5hcHBlbmQobShzKSxhLmpvaW4oXCIsXCIpKTtlbHNlIHtsZXQgbz1tKHMpO3QuYXBwZW5kKG8sYS50b1N0cmluZygpKTt9fSk7bGV0IHI9YGh0dHA6Ly9sb2NhbGhvc3Q6MzAzMC9zZWFyY2g/JHt0fWA7dHJ5e2xldCBzPWF3YWl0IGZldGNoKHIpO2lmKCFzLm9rKXtsZXQgbz1hd2FpdCBzLnRleHQoKSx1O3RyeXt1PUpTT04ucGFyc2UobyksY29uc29sZS5lcnJvcihcInNjcmVlbnBpcGUgYXBpIGVycm9yOlwiLHtzdGF0dXM6cy5zdGF0dXMsZXJyb3I6dX0pO31jYXRjaHtjb25zb2xlLmVycm9yKFwic2NyZWVucGlwZSBhcGkgZXJyb3I6XCIse3N0YXR1czpzLnN0YXR1cyxlcnJvcjpvfSk7fXRocm93IG5ldyBFcnJvcihgaHR0cCBlcnJvciEgc3RhdHVzOiAke3Muc3RhdHVzfWApfWxldCBhPWF3YWl0IHMuanNvbigpO3JldHVybiBhd2FpdCBiKFwic2VhcmNoX3BlcmZvcm1lZFwiLHtjb250ZW50X3R5cGU6ZS5jb250ZW50VHlwZSxyZXN1bHRfY291bnQ6YS5wYWdpbmF0aW9uLnRvdGFsfSksYyhhKX1jYXRjaChzKXt0aHJvdyBjb25zb2xlLmVycm9yKFwiZXJyb3IgcXVlcnlpbmcgc2NyZWVucGlwZTpcIixzKSxzfX1hc3luYyBpbml0QW5hbHl0aWNzSWZOZWVkZWQoKXtpZih0aGlzLmFuYWx5dGljc0luaXRpYWxpemVkKXJldHVybjtsZXQgZT1hd2FpdCB0aGlzLnNldHRpbmdzLmdldEFsbCgpO3RoaXMuYW5hbHl0aWNzRW5hYmxlZD1lLmFuYWx5dGljc0VuYWJsZWQsZS5hbmFseXRpY3NFbmFibGVkJiYodGhpcy5hbmFseXRpY3NJbml0aWFsaXplZD10cnVlKTt9YXN5bmMgY2FwdHVyZUV2ZW50KGUsdCl7aWYoIXRoaXMuYW5hbHl0aWNzRW5hYmxlZClyZXR1cm47YXdhaXQgdGhpcy5pbml0QW5hbHl0aWNzSWZOZWVkZWQoKTtsZXQgcj1hd2FpdCB0aGlzLnNldHRpbmdzLmdldEFsbCgpO3JldHVybiBiKGUse2Rpc3RpbmN0X2lkOnIudXNlci5pZCxlbWFpbDpyLnVzZXIuZW1haWwsLi4udH0pfWFzeW5jIGNhcHR1cmVNYWluRmVhdHVyZUV2ZW50KGUsdCl7aWYodGhpcy5hbmFseXRpY3NFbmFibGVkKXJldHVybiBhd2FpdCB0aGlzLmluaXRBbmFseXRpY3NJZk5lZWRlZCgpLEEoZSx0KX19LGFlPW5ldyBFO1xuZXhwb3J0e2sgYXMgZ2V0RGVmYXVsdFNldHRpbmdzLGFlIGFzIHBpcGV9Oy8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@screenpipe/js/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@screenpipe/js/dist/index.js":
/*!***************************************************!*\
  !*** ./node_modules/@screenpipe/js/dist/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDefaultSettings: () => (/* binding */ k),\n/* harmony export */   pipe: () => (/* binding */ ae)\n/* harmony export */ });\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! os */ \"os\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! child_process */ \"child_process\");\n/* harmony import */ var net__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! net */ \"net\");\n/* harmony import */ var posthog_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! posthog-js */ \"(rsc)/./node_modules/posthog-js/dist/module.js\");\nvar S=(n,e=\"\")=>Object.keys(n).reduce((t,r)=>{let s=e.length?e+\".\":\"\";return typeof n[r]==\"object\"&&n[r]!==null&&!Array.isArray(n[r])?Object.assign(t,S(n[r],s+r)):t[s+r]=n[r],t},{}),P=n=>{let e={};for(let t in n){let r=t.split(\".\"),s=e;for(let a=0;a<r.length;a++){let o=r[a];a===r.length-1?s[o]=n[t]:(s[o]=s[o]||{},s=s[o]);}}return e};function C(n){return n.replace(/([-_][a-z])/g,e=>e.toUpperCase().replace(\"-\",\"\").replace(\"_\",\"\"))}function m(n){return n.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}function h(n){return Object.keys(n).reduce((e,t)=>{let r=m(t);return e[r]=h(n[t]),e},{})}function c(n){return Array.isArray(n)?n.map(c):n!==null&&typeof n==\"object\"?Object.keys(n).reduce((e,t)=>{let r=C(t);return e[r]=c(n[t]),e},{}):n}function k(){return {openaiApiKey:\"\",deepgramApiKey:\"\",aiModel:\"gpt-4o\",aiUrl:\"https://api.openai.com/v1\",customPrompt:\"Rules:\\n    - You can analyze/view/show/access videos to the user by putting .mp4 files in a code block (we'll render it) like this: `/users/video.mp4`, use the exact, absolute, file path from file_path property\\n    - Do not try to embed video in links (e.g. [](.mp4) or https://.mp4) instead put the file_path in a code block using backticks\\n    - Do not put video in multiline code block it will not render the video (e.g. ```bash\\n.mp4``` IS WRONG) instead using inline code block with single backtick\\n    - Always answer my question/intent, do not make up things\\n    \",port:3030,dataDir:\"default\",disableAudio:false,ignoredWindows:[],includedWindows:[],aiProviderType:\"openai\",embeddedLLM:{enabled:false,model:\"llama3.2:1b-instruct-q4_K_M\",port:11434},enableFrameCache:true,enableUiMonitoring:false,aiMaxContextChars:512e3,analyticsEnabled:true,user:{token:\"\"},customSettings:{},monitorIds:[\"default\"],audioDevices:[\"default\"],audioTranscriptionEngine:\"whisper-large-v3-turbo\",enableRealtimeAudioTranscription:false,realtimeAudioTranscriptionEngine:\"deepgram\",disableVision:false,aiPresets:[]}}var y=k(),f=class{settings;storePath;initialized=false;constructor(){this.settings=y,this.storePath=\"\";}async getStorePath(){let e=process.platform,t=os__WEBPACK_IMPORTED_MODULE_2__.homedir(),r;switch(e){case\"darwin\":r=path__WEBPACK_IMPORTED_MODULE_1__.join(t,\"Library\",\"Application Support\",\"screenpipe\");break;case\"linux\":let o=process.env.XDG_DATA_HOME||path__WEBPACK_IMPORTED_MODULE_1__.join(t,\".local\",\"share\");r=path__WEBPACK_IMPORTED_MODULE_1__.join(o,\"screenpipe\");break;case\"win32\":r=path__WEBPACK_IMPORTED_MODULE_1__.join(process.env.LOCALAPPDATA||path__WEBPACK_IMPORTED_MODULE_1__.join(t,\"AppData\",\"Local\"),\"screenpipe\");break;default:throw new Error(`unsupported platform: ${e}`)}let s=path__WEBPACK_IMPORTED_MODULE_1__.join(r,\"profiles.bin\"),a=\"default\";try{let o=await fs_promises__WEBPACK_IMPORTED_MODULE_0__.readFile(s),u=JSON.parse(o.toString());u.activeProfile&&(a=u.activeProfile);}catch{}return a===\"default\"?path__WEBPACK_IMPORTED_MODULE_1__.join(r,\"store.bin\"):path__WEBPACK_IMPORTED_MODULE_1__.join(r,`store-${a}.bin`)}async init(){if(!fs_promises__WEBPACK_IMPORTED_MODULE_0__||!path__WEBPACK_IMPORTED_MODULE_1__)throw new Error(\"failed to load required modules\");this.storePath=await this.getStorePath();try{await fs_promises__WEBPACK_IMPORTED_MODULE_0__.mkdir(path__WEBPACK_IMPORTED_MODULE_1__.dirname(this.storePath),{recursive:!0});let e=await fs_promises__WEBPACK_IMPORTED_MODULE_0__.readFile(this.storePath),t=JSON.parse(e.toString());this.settings={...y,...P(t)},this.initialized=!0;}catch(e){if(e.code===\"ENOENT\")await this.save(),this.initialized=true;else throw e}}async save(){await fs_promises__WEBPACK_IMPORTED_MODULE_0__.mkdir(path__WEBPACK_IMPORTED_MODULE_1__.dirname(this.storePath),{recursive:true});let e=S(this.settings);await fs_promises__WEBPACK_IMPORTED_MODULE_0__.writeFile(this.storePath,JSON.stringify(e,null,2));}async get(e){return this.initialized||await this.init(),this.settings[e]}async set(e,t){this.initialized||await this.init(),this.settings[e]=t,await this.save();}async getAll(){return await this.init(),{...this.settings}}async update(e){this.initialized||await this.init(),this.settings={...this.settings,...e},await this.save();}async reset(){this.settings={...y},await this.save();}async resetKey(e){this.initialized||await this.init(),this.settings[e]=y[e],await this.save();}async getCustomSetting(e,t){return this.initialized||await this.init(),this.settings.customSettings?.[e]?.[t]}async setCustomSetting(e,t,r){this.initialized||await this.init(),this.settings.customSettings=this.settings.customSettings||{},this.settings.customSettings[e]=this.settings.customSettings[e]||{},this.settings.customSettings[e][t]=r,await this.save();}async getNamespaceSettings(e){return this.initialized||await this.init(),this.settings.customSettings?.[e]}async updateNamespaceSettings(e,t){this.initialized||await this.init(),this.settings.customSettings=this.settings.customSettings||{},this.settings.customSettings[e]=t,await this.save();}};async function J(){return new Promise((n,e)=>{let t=(0,net__WEBPACK_IMPORTED_MODULE_4__.createServer)();t.unref(),t.on(\"error\",e),t.listen(0,()=>{let r=t.address().port;t.close(()=>n(r));});})}var g=class{actionServerPort;actionServerProcess;async send(e){this.actionServerPort||(this.actionServerPort=await J(),this.actionServerProcess=(0,child_process__WEBPACK_IMPORTED_MODULE_3__.fork)(\"./inbox-server.js\",[this.actionServerPort.toString()])),e.actions&&(e.actions=e.actions.map(t=>{let r=crypto.randomUUID();return {label:t.label,action:r,port:this.actionServerPort,callback:t.callback}}));try{return (await fetch(\"http://localhost:11435/inbox\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({...e,type:\"inbox\",actionServerPort:this.actionServerPort})})).ok}catch(t){return console.error(\"failed to send inbox message:\",t),false}}};var w=class{async list(){try{let t=await fetch(\"http://localhost:3030/pipes/list\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});if(!t.ok)throw new Error(`http error! status: ${t.status}`);return {success:!0,data:(await t.json()).data}}catch(e){return console.error(\"failed to list pipes:\",e),{success:false,error:e}}}async download(e){try{let r=await fetch(\"http://localhost:3030/pipes/download\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({url:e})});if(!r.ok)throw new Error(`http error! status: ${r.status}`);return {success:!0,data:(await r.json()).data}}catch(t){return console.error(\"failed to download pipe:\",t),{success:false,error:t}}}async enable(e){try{return (await fetch(\"http://localhost:3030/pipes/enable\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({pipe_id:e})})).ok}catch(t){return console.error(\"failed to enable pipe:\",t),false}}async disable(e){try{return (await fetch(\"http://localhost:3030/pipes/disable\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({pipe_id:e})})).ok}catch(t){return console.error(\"failed to disable pipe:\",t),false}}async update(e,t){try{return (await fetch(\"http://localhost:3030/pipes/update\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({pipe_id:e,config:t})})).ok}catch(r){return console.error(\"failed to update pipe:\",r),false}}async info(e){try{let r=await fetch(`http://localhost:3030/pipes/info/${e}`,{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});if(!r.ok)throw new Error(`http error! status: ${r.status}`);return {success:!0,data:(await r.json()).data}}catch(t){return console.error(\"failed to get pipe info:\",t),{success:false,error:t}}}async downloadPrivate(e,t,r){try{let a=await fetch(\"http://localhost:3030/pipes/download-private\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({url:e,pipe_name:t,pipe_id:r})});if(!a.ok)throw new Error(`http error! status: ${a.status}`);return {success:!0,data:(await a.json()).data}}catch(s){return console.error(\"failed to download private pipe:\",s),{success:false,error:s}}}async delete(e){try{return (await fetch(\"http://localhost:3030/pipes/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({pipe_id:e})})).ok}catch(t){return console.error(\"failed to delete pipe:\",t),false}}};var v=false,l=null,I=\"phc_Bt8GoTBPgkCpDrbaIZzJIEYt0CrJjhBiuLaBck1clce\",U=\"https://eu.i.posthog.com\";function O(n){l=n;}function $(n,e){!v&&l&&(l.init(I,{api_host:U,distinct_id:n,email:e}),l.identify(n,{email:e}),v=true);}async function b(n,e){if(!l)return;$(e?.distinct_id,e?.email);let{distinct_id:t,...r}=e||{};l.capture(n,r);}async function A(n,e){if(!l)return;$(e?.distinct_id,e?.email);let{distinct_id:t,...r}=e||{};l.capture(n,{feature:\"main\",...r});}var x=class{baseUrl;pixel;constructor(e=\"http://localhost:3030\"){this.baseUrl=e,this.pixel={type:t=>this.sendInputControl({type:\"WriteText\",data:t}),press:t=>this.sendInputControl({type:\"KeyPress\",data:t}),moveMouse:(t,r)=>this.sendInputControl({type:\"MouseMove\",data:{x:t,y:r}}),click:t=>this.sendInputControl({type:\"MouseClick\",data:t})};}async sendInputControl(e){try{let t=await fetch(`${this.baseUrl}/experimental/operator/pixel`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({action:e})});if(!t.ok)throw new Error(`http error! status: ${t.status}`);return (await t.json()).success}catch(t){return console.error(\"failed to control input:\",t),false}}locator(e){if(e.role&&e.id)throw new Error(\"only one of 'role' or 'id' can be specified. need both? dm us!\");let t={app_name:e.app,window_name:e.window,locator:e.role||(e.id?`#${e.id}`:\"\"),use_background_apps:e.useBackgroundApps,activate_app:e.activateApp};return new T(this.baseUrl,t)}async click(e){let t={app_name:e.app,window_name:e.window,locator:`#${e.id}`,use_background_apps:e.useBackgroundApps,activate_app:e.activateApp!==false},r=await fetch(`${this.baseUrl}/experimental/operator/click`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selector:t})});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to click element: ${o.error||r.statusText}`)}catch{throw new Error(`failed to click element (status ${r.status}): ${a||r.statusText}`)}}let s=await r.json();if(console.log(\"debug: click response data:\",JSON.stringify(s,null,2)),!s.success)throw new Error(`click operation failed: ${s.error||\"unknown error\"}`);return s.result?c(s.result):s.method?{method:s.method,coordinates:s.coordinates,details:s.details||\"Click operation succeeded\"}:(console.log(\"warning: click response missing expected structure, creating fallback object\"),{method:\"MouseSimulation\",coordinates:undefined,details:\"Click operation succeeded but returned unexpected data structure\"})}async fill(e){let t={app_name:e.app,locator:`#${e.id}`,use_background_apps:e.useBackgroundApps,activate_app:e.activateApp!==false};console.log(\"selector\",t);let r=await fetch(`${this.baseUrl}/experimental/operator/type`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selector:t,text:e.value})});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to type text: ${o.error||r.statusText}`)}catch{throw new Error(`failed to type text (status ${r.status}): ${a||r.statusText}`)}}return (await r.json()).success}getByRole(e,t){return this.locator({app:t?.app||\"\",window:t?.window,role:e,useBackgroundApps:t?.useBackgroundApps,activateApp:t?.activateApp})}getById(e,t){return this.locator({app:t?.app||\"\",window:t?.window,id:e,useBackgroundApps:t?.useBackgroundApps,activateApp:t?.activateApp})}async getText(e){let t={appName:e.app,windowName:e.window,maxDepth:e.maxDepth,useBackgroundApps:e.useBackgroundApps,activateApp:e.activateApp!==false},r=await fetch(`${this.baseUrl}/experimental/operator/get_text`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(h(t))});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to get text: ${o.error||r.statusText}`)}catch{throw new Error(`failed to get text (status ${r.status}): ${a||r.statusText}`)}}let s=await r.json();if(console.log(\"debug: text response data:\",JSON.stringify(s,null,2)),!s.success)throw new Error(`get_text operation failed: ${s.error||\"unknown error\"}`);return c(s)}async getInteractableElements(e){let t={appName:e.app,windowName:e.window,withTextOnly:e.withTextOnly,interactableOnly:e.interactableOnly,includeSometimesInteractable:e.includeSometimesInteractable,maxElements:e.maxElements,useBackgroundApps:e.useBackgroundApps,activateApp:e.activateApp},r=await fetch(`${this.baseUrl}/experimental/operator/list-interactable-elements`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(h(t))});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to get interactable elements: ${o.error||r.statusText}`)}catch{throw new Error(`failed to get interactable elements (status ${r.status}): ${a||r.statusText}`)}}let s=await r.json();return console.log(\"debug: text response data:\",JSON.stringify(s,null,2)),c(s)}async clickByIndex(e){let t=await fetch(`${this.baseUrl}/experimental/operator/click-by-index`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({element_index:e})});if(!t.ok){let s=await t.text();console.log(\"error response:\",s);try{let a=JSON.parse(s);throw new Error(`failed to click element by index: ${a.error||t.statusText}`)}catch{throw new Error(`failed to click element by index (status ${t.status}): ${s||t.statusText}`)}}let r=await t.json();if(!r.success)throw new Error(`click operation failed: ${r.message||\"unknown error\"}`);return r.success}async typeByIndex(e,t){let r=await fetch(`${this.baseUrl}/experimental/operator/type-by-index`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({element_index:e,text:t})});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to type text into element by index: ${o.error||r.statusText}`)}catch{throw new Error(`failed to type text into element by index (status ${r.status}): ${a||r.statusText}`)}}let s=await r.json();if(!s.success)throw new Error(`type operation failed: ${s.message||\"unknown error\"}`);return s.success}async pressKey(e){let t={app_name:e.app,window_name:e.window,locator:`#${e.id}`,use_background_apps:e.useBackgroundApps,activate_app:e.activateApp!==false},r=await fetch(`${this.baseUrl}/experimental/operator/press-key`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(h({selector:t,keyCombo:e.key}))});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to press key: ${o.error||r.statusText}`)}catch{throw new Error(`failed to press key (status ${r.status}): ${a||r.statusText}`)}}return (await r.json()).success}async pressKeyByIndex(e,t){let r=await fetch(`${this.baseUrl}/experimental/operator/press-key-by-index`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({element_index:e,key_combo:t})});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to press key on element by index: ${o.error||r.statusText}`)}catch{throw new Error(`failed to press key on element by index (status ${r.status}): ${a||r.statusText}`)}}let s=await r.json();if(!s.success)throw new Error(`press key operation failed: ${s.message||\"unknown error\"}`);return s.success}async openApplication(e){let t=await fetch(`${this.baseUrl}/experimental/operator/open-application`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({app_name:e})});if(!t.ok){let s=await t.text();console.log(\"error response:\",s);try{let a=JSON.parse(s);throw new Error(`failed to open application: ${a.error||t.statusText}`)}catch{throw new Error(`failed to open application (status ${t.status}): ${s||t.statusText}`)}}let r=await t.json();if(!r.success)throw new Error(`open application operation failed: ${r.message||\"unknown error\"}`);return r.success}async openUrl(e,t){let r=await fetch(`${this.baseUrl}/experimental/operator/open-url`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({url:e,browser:t})});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to open url: ${o.error||r.statusText}`)}catch{throw new Error(`failed to open url (status ${r.status}): ${a||r.statusText}`)}}let s=await r.json();if(!s.success)throw new Error(`open url operation failed: ${s.message||\"unknown error\"}`);return s.success}async scroll(e){let t={app_name:e.app,window_name:e.window,locator:e.id?`#${e.id}`:\"\",use_background_apps:e.useBackgroundApps,activate_app:e.activateApp!==false},r=await fetch(`${this.baseUrl}/experimental/operator/scroll`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selector:t,direction:e.direction,amount:e.amount})});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to scroll element: ${o.error||r.statusText}`)}catch{throw new Error(`failed to scroll element (status ${r.status}): ${a||r.statusText}`)}}return (await r.json()).success}},T=class{baseUrl;selector;constructor(e,t){this.baseUrl=e,this.selector=t;}async first(e){let t=await this.all(1,e);return t.length>0?t[0]:null}async all(e,t){let r=await fetch(`${this.baseUrl}/experimental/operator`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selector:this.selector,max_results:e,max_depth:t})});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to find elements: ${o.error||r.statusText}`)}catch{throw new Error(`failed to find elements (status ${r.status}): ${a||r.statusText}`)}}return (await r.json()).data}async click(){let e=await fetch(`${this.baseUrl}/experimental/operator/click`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selector:{...this.selector,activate_app:this.selector.activate_app!==false}})});if(!e.ok){let r=await e.text();console.log(\"error response:\",r);try{let s=JSON.parse(r);throw new Error(`failed to click element: ${s.error||e.statusText}`)}catch{throw new Error(`failed to click element (status ${e.status}): ${r||e.statusText}`)}}let t=await e.json();if(console.log(\"debug: click response data:\",JSON.stringify(t,null,2)),!t.success)throw new Error(`click operation failed: ${t.error||\"unknown error\"}`);return t.result?t.result:t.method?{method:t.method,coordinates:t.coordinates,details:t.details||\"Click operation succeeded\"}:(console.log(\"warning: click response missing expected structure, creating fallback object\"),{method:\"MouseSimulation\",coordinates:undefined,details:\"Click operation succeeded but returned unexpected data structure\"})}async fill(e){let t=await fetch(`${this.baseUrl}/experimental/operator/type`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selector:{...this.selector,activate_app:this.selector.activate_app!==false},text:e})});if(!t.ok){let s=await t.text();console.log(\"error response:\",s);try{let a=JSON.parse(s);throw new Error(`failed to type text: ${a.error||t.statusText}`)}catch{throw new Error(`failed to type text (status ${t.status}): ${s||t.statusText}`)}}return (await t.json()).success}async exists(){try{return !!await this.first()}catch{return false}}async waitFor(e={}){let t=Date.now(),r=e.timeout||3e4;for(;Date.now()-t<r;){try{let s=await this.first();if(s)return s}catch{}await new Promise(s=>setTimeout(s,100));}return null}async pressKey(e){let t=await fetch(`${this.baseUrl}/experimental/operator/press-key`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selector:{...this.selector,activate_app:this.selector.activate_app!==false},key_combo:e})});if(!t.ok){let s=await t.text();console.log(\"error response:\",s);try{let a=JSON.parse(s);throw new Error(`failed to press key: ${a.error||t.statusText}`)}catch{throw new Error(`failed to press key (status ${t.status}): ${s||t.statusText}`)}}return (await t.json()).success}async scroll(e,t){let r=await fetch(`${this.baseUrl}/experimental/operator/scroll`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selector:{...this.selector,activate_app:this.selector.activate_app!==false},direction:e,amount:t})});if(!r.ok){let a=await r.text();console.log(\"error response:\",a);try{let o=JSON.parse(a);throw new Error(`failed to scroll element: ${o.error||r.statusText}`)}catch{throw new Error(`failed to scroll element (status ${r.status}): ${a||r.statusText}`)}}return (await r.json()).success}};O({init:posthog_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].init.bind(posthog_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),identify:posthog_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].identify.bind(posthog_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),capture:posthog_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].capture.bind(posthog_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])});var E=class{analyticsInitialized=false;analyticsEnabled=true;settings=new f;inbox=new g;pipes=new w;operator=new x;async sendDesktopNotification(e){await this.initAnalyticsIfNeeded();let t=\"http://localhost:11435\";try{return await fetch(`${t}/notify`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(e)}),await b(\"notification_sent\",{success:!0}),!0}catch(r){return console.error(\"failed to send notification:\",r),false}}async queryScreenpipe(e){await this.initAnalyticsIfNeeded();let t=new URLSearchParams;Object.entries(e).forEach(([s,a])=>{if(a!==undefined&&a!==\"\")if(s===\"speakerIds\"&&Array.isArray(a))a.length>0&&t.append(m(s),a.join(\",\"));else {let o=m(s);t.append(o,a.toString());}});let r=`http://localhost:3030/search?${t}`;try{let s=await fetch(r);if(!s.ok){let o=await s.text(),u;try{u=JSON.parse(o),console.error(\"screenpipe api error:\",{status:s.status,error:u});}catch{console.error(\"screenpipe api error:\",{status:s.status,error:o});}throw new Error(`http error! status: ${s.status}`)}let a=await s.json();return await b(\"search_performed\",{content_type:e.contentType,result_count:a.pagination.total}),c(a)}catch(s){throw console.error(\"error querying screenpipe:\",s),s}}async initAnalyticsIfNeeded(){if(this.analyticsInitialized)return;let e=await this.settings.getAll();this.analyticsEnabled=e.analyticsEnabled,e.analyticsEnabled&&(this.analyticsInitialized=true);}async captureEvent(e,t){if(!this.analyticsEnabled)return;await this.initAnalyticsIfNeeded();let r=await this.settings.getAll();return b(e,{distinct_id:r.user.id,email:r.user.email,...t})}async captureMainFeatureEvent(e,t){if(this.analyticsEnabled)return await this.initAnalyticsIfNeeded(),A(e,t)}},ae=new E;\n//# sourceMappingURL=index.js.map\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNjcmVlbnBpcGUvanMvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEySiw4Q0FBOEMsd0JBQXdCLDJHQUEyRyxHQUFHLFFBQVEsU0FBUyxnQkFBZ0IsdUJBQXVCLFlBQVksV0FBVyxLQUFLLFdBQVcsdUNBQXVDLFdBQVcsVUFBVSxjQUFjLG9GQUFvRixjQUFjLGlDQUFpQyxnQkFBZ0IsR0FBRyxjQUFjLHFDQUFxQyxXQUFXLHNCQUFzQixHQUFHLEVBQUUsY0FBYyw0RkFBNEYsV0FBVyxzQkFBc0IsR0FBRyxJQUFJLGFBQWEsUUFBUSw2eEJBQTZ4Qiw2REFBNkQsb0dBQW9HLFNBQVMsa0JBQWtCLHdOQUF3TixrQkFBa0IsU0FBUyxVQUFVLGtCQUFrQixjQUFjLG1DQUFtQyxxQkFBcUIseUJBQXlCLHVDQUFTLEtBQUssVUFBVSxlQUFlLHNDQUFNLGlEQUFpRCxNQUFNLDZDQUE2QyxzQ0FBTSxxQkFBcUIsRUFBRSxzQ0FBTSxpQkFBaUIsTUFBTSxjQUFjLHNDQUFNLDJCQUEyQixzQ0FBTSxvQ0FBb0MsTUFBTSxpREFBaUQsRUFBRSxHQUFHLE1BQU0sc0NBQU0sK0JBQStCLElBQUksWUFBWSxpREFBVSwrQkFBK0Isc0NBQXNDLE9BQU8scUJBQXFCLHNDQUFNLGdCQUFnQixzQ0FBTSxZQUFZLEVBQUUsT0FBTyxhQUFhLElBQUksd0NBQUMsR0FBRyxpQ0FBQyxvREFBb0QseUNBQXlDLElBQUksTUFBTSw4Q0FBTyxDQUFDLHlDQUFTLGtCQUFrQixhQUFhLEVBQUUsWUFBWSxpREFBVSw0Q0FBNEMsZUFBZSxhQUFhLHNCQUFzQixTQUFTLDZEQUE2RCxjQUFjLGFBQWEsTUFBTSw4Q0FBTyxDQUFDLHlDQUFTLGtCQUFrQixlQUFlLEVBQUUsdUJBQXVCLE1BQU0sa0RBQVcsMkNBQTJDLGFBQWEsNERBQTRELGVBQWUsMEVBQTBFLGVBQWUsMEJBQTBCLGtCQUFrQixnQkFBZ0IsbURBQW1ELHNCQUFzQixvQkFBb0Is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WUFBWSwyQkFBMkIsc0JBQXNCLGVBQWUsWUFBWSxZQUFZLGVBQWUsaUNBQWlDLG1DQUFtQywrQkFBK0IsSUFBSSxzQkFBc0IsRUFBRSxVQUFVLHVCQUF1QixrQ0FBa0Msd0JBQXdCLCtCQUErQixXQUFXLEtBQUssU0FBUyw4REFBOEQseUJBQXlCLG1DQUFtQywwQkFBMEIsb0NBQW9DLHNHQUFzRyxNQUFNLFdBQVcsMkJBQTJCLEVBQUUsc0NBQXNDLEVBQUUsRUFBRSxJQUFJLHFCQUFxQixVQUFVLHVCQUF1QixJQUFJLHVEQUF1RCx3QkFBd0IsR0FBRyxNQUFNLHVDQUF1Qyx3QkFBd0IsR0FBRyx1Q0FBdUMsU0FBUyxHQUFHLHFCQUFxQixtQ0FBbUMsMkRBQTJELE9BQU8sU0FBUyx1REFBdUQsOEJBQThCLG9DQUFvQyxtQ0FBbUMsK0ZBQStGLHdCQUF3QixpQ0FBaUMsbUNBQW1DLG1DQUFtQyxZQUFZLDhDQUE4QyxFQUFFLG1DQUFtQywyRUFBMkU7QUFDNWhyQjtBQUMzQyIsInNvdXJjZXMiOlsiL2hvbWUvc3BsaW50ZXJzd29yZC9Eb2N1bWVudHMvQ29tcHV0ZXJzL0RheWxvZ2dlci1mcm9udGVuZC9EYXlMb2dnZXIvbm9kZV9tb2R1bGVzL0BzY3JlZW5waXBlL2pzL2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHAgZnJvbSdmcy9wcm9taXNlcyc7aW1wb3J0IGkgZnJvbSdwYXRoJztpbXBvcnQgXyBmcm9tJ29zJztpbXBvcnQge2Zvcmt9ZnJvbSdjaGlsZF9wcm9jZXNzJztpbXBvcnQge2NyZWF0ZVNlcnZlcn1mcm9tJ25ldCc7aW1wb3J0IGQgZnJvbSdwb3N0aG9nLWpzJzt2YXIgUz0obixlPVwiXCIpPT5PYmplY3Qua2V5cyhuKS5yZWR1Y2UoKHQscik9PntsZXQgcz1lLmxlbmd0aD9lK1wiLlwiOlwiXCI7cmV0dXJuIHR5cGVvZiBuW3JdPT1cIm9iamVjdFwiJiZuW3JdIT09bnVsbCYmIUFycmF5LmlzQXJyYXkobltyXSk/T2JqZWN0LmFzc2lnbih0LFMobltyXSxzK3IpKTp0W3Mrcl09bltyXSx0fSx7fSksUD1uPT57bGV0IGU9e307Zm9yKGxldCB0IGluIG4pe2xldCByPXQuc3BsaXQoXCIuXCIpLHM9ZTtmb3IobGV0IGE9MDthPHIubGVuZ3RoO2ErKyl7bGV0IG89clthXTthPT09ci5sZW5ndGgtMT9zW29dPW5bdF06KHNbb109c1tvXXx8e30scz1zW29dKTt9fXJldHVybiBlfTtmdW5jdGlvbiBDKG4pe3JldHVybiBuLnJlcGxhY2UoLyhbLV9dW2Etel0pL2csZT0+ZS50b1VwcGVyQ2FzZSgpLnJlcGxhY2UoXCItXCIsXCJcIikucmVwbGFjZShcIl9cIixcIlwiKSl9ZnVuY3Rpb24gbShuKXtyZXR1cm4gbi5yZXBsYWNlKC9bQS1aXS9nLGU9PmBfJHtlLnRvTG93ZXJDYXNlKCl9YCl9ZnVuY3Rpb24gaChuKXtyZXR1cm4gT2JqZWN0LmtleXMobikucmVkdWNlKChlLHQpPT57bGV0IHI9bSh0KTtyZXR1cm4gZVtyXT1oKG5bdF0pLGV9LHt9KX1mdW5jdGlvbiBjKG4pe3JldHVybiBBcnJheS5pc0FycmF5KG4pP24ubWFwKGMpOm4hPT1udWxsJiZ0eXBlb2Ygbj09XCJvYmplY3RcIj9PYmplY3Qua2V5cyhuKS5yZWR1Y2UoKGUsdCk9PntsZXQgcj1DKHQpO3JldHVybiBlW3JdPWMoblt0XSksZX0se30pOm59ZnVuY3Rpb24gaygpe3JldHVybiB7b3BlbmFpQXBpS2V5OlwiXCIsZGVlcGdyYW1BcGlLZXk6XCJcIixhaU1vZGVsOlwiZ3B0LTRvXCIsYWlVcmw6XCJodHRwczovL2FwaS5vcGVuYWkuY29tL3YxXCIsY3VzdG9tUHJvbXB0OlwiUnVsZXM6XFxuICAgIC0gWW91IGNhbiBhbmFseXplL3ZpZXcvc2hvdy9hY2Nlc3MgdmlkZW9zIHRvIHRoZSB1c2VyIGJ5IHB1dHRpbmcgLm1wNCBmaWxlcyBpbiBhIGNvZGUgYmxvY2sgKHdlJ2xsIHJlbmRlciBpdCkgbGlrZSB0aGlzOiBgL3VzZXJzL3ZpZGVvLm1wNGAsIHVzZSB0aGUgZXhhY3QsIGFic29sdXRlLCBmaWxlIHBhdGggZnJvbSBmaWxlX3BhdGggcHJvcGVydHlcXG4gICAgLSBEbyBub3QgdHJ5IHRvIGVtYmVkIHZpZGVvIGluIGxpbmtzIChlLmcuIFtdKC5tcDQpIG9yIGh0dHBzOi8vLm1wNCkgaW5zdGVhZCBwdXQgdGhlIGZpbGVfcGF0aCBpbiBhIGNvZGUgYmxvY2sgdXNpbmcgYmFja3RpY2tzXFxuICAgIC0gRG8gbm90IHB1dCB2aWRlbyBpbiBtdWx0aWxpbmUgY29kZSBibG9jayBpdCB3aWxsIG5vdCByZW5kZXIgdGhlIHZpZGVvIChlLmcuIGBgYGJhc2hcXG4ubXA0YGBgIElTIFdST05HKSBpbnN0ZWFkIHVzaW5nIGlubGluZSBjb2RlIGJsb2NrIHdpdGggc2luZ2xlIGJhY2t0aWNrXFxuICAgIC0gQWx3YXlzIGFuc3dlciBteSBxdWVzdGlvbi9pbnRlbnQsIGRvIG5vdCBtYWtlIHVwIHRoaW5nc1xcbiAgICBcIixwb3J0OjMwMzAsZGF0YURpcjpcImRlZmF1bHRcIixkaXNhYmxlQXVkaW86ZmFsc2UsaWdub3JlZFdpbmRvd3M6W10saW5jbHVkZWRXaW5kb3dzOltdLGFpUHJvdmlkZXJUeXBlOlwib3BlbmFpXCIsZW1iZWRkZWRMTE06e2VuYWJsZWQ6ZmFsc2UsbW9kZWw6XCJsbGFtYTMuMjoxYi1pbnN0cnVjdC1xNF9LX01cIixwb3J0OjExNDM0fSxlbmFibGVGcmFtZUNhY2hlOnRydWUsZW5hYmxlVWlNb25pdG9yaW5nOmZhbHNlLGFpTWF4Q29udGV4dENoYXJzOjUxMmUzLGFuYWx5dGljc0VuYWJsZWQ6dHJ1ZSx1c2VyOnt0b2tlbjpcIlwifSxjdXN0b21TZXR0aW5nczp7fSxtb25pdG9ySWRzOltcImRlZmF1bHRcIl0sYXVkaW9EZXZpY2VzOltcImRlZmF1bHRcIl0sYXVkaW9UcmFuc2NyaXB0aW9uRW5naW5lOlwid2hpc3Blci1sYXJnZS12My10dXJib1wiLGVuYWJsZVJlYWx0aW1lQXVkaW9UcmFuc2NyaXB0aW9uOmZhbHNlLHJlYWx0aW1lQXVkaW9UcmFuc2NyaXB0aW9uRW5naW5lOlwiZGVlcGdyYW1cIixkaXNhYmxlVmlzaW9uOmZhbHNlLGFpUHJlc2V0czpbXX19dmFyIHk9aygpLGY9Y2xhc3N7c2V0dGluZ3M7c3RvcmVQYXRoO2luaXRpYWxpemVkPWZhbHNlO2NvbnN0cnVjdG9yKCl7dGhpcy5zZXR0aW5ncz15LHRoaXMuc3RvcmVQYXRoPVwiXCI7fWFzeW5jIGdldFN0b3JlUGF0aCgpe2xldCBlPXByb2Nlc3MucGxhdGZvcm0sdD1fLmhvbWVkaXIoKSxyO3N3aXRjaChlKXtjYXNlXCJkYXJ3aW5cIjpyPWkuam9pbih0LFwiTGlicmFyeVwiLFwiQXBwbGljYXRpb24gU3VwcG9ydFwiLFwic2NyZWVucGlwZVwiKTticmVhaztjYXNlXCJsaW51eFwiOmxldCBvPXByb2Nlc3MuZW52LlhER19EQVRBX0hPTUV8fGkuam9pbih0LFwiLmxvY2FsXCIsXCJzaGFyZVwiKTtyPWkuam9pbihvLFwic2NyZWVucGlwZVwiKTticmVhaztjYXNlXCJ3aW4zMlwiOnI9aS5qb2luKHByb2Nlc3MuZW52LkxPQ0FMQVBQREFUQXx8aS5qb2luKHQsXCJBcHBEYXRhXCIsXCJMb2NhbFwiKSxcInNjcmVlbnBpcGVcIik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIHBsYXRmb3JtOiAke2V9YCl9bGV0IHM9aS5qb2luKHIsXCJwcm9maWxlcy5iaW5cIiksYT1cImRlZmF1bHRcIjt0cnl7bGV0IG89YXdhaXQgcC5yZWFkRmlsZShzKSx1PUpTT04ucGFyc2Uoby50b1N0cmluZygpKTt1LmFjdGl2ZVByb2ZpbGUmJihhPXUuYWN0aXZlUHJvZmlsZSk7fWNhdGNoe31yZXR1cm4gYT09PVwiZGVmYXVsdFwiP2kuam9pbihyLFwic3RvcmUuYmluXCIpOmkuam9pbihyLGBzdG9yZS0ke2F9LmJpbmApfWFzeW5jIGluaXQoKXtpZighcHx8IWkpdGhyb3cgbmV3IEVycm9yKFwiZmFpbGVkIHRvIGxvYWQgcmVxdWlyZWQgbW9kdWxlc1wiKTt0aGlzLnN0b3JlUGF0aD1hd2FpdCB0aGlzLmdldFN0b3JlUGF0aCgpO3RyeXthd2FpdCBwLm1rZGlyKGkuZGlybmFtZSh0aGlzLnN0b3JlUGF0aCkse3JlY3Vyc2l2ZTohMH0pO2xldCBlPWF3YWl0IHAucmVhZEZpbGUodGhpcy5zdG9yZVBhdGgpLHQ9SlNPTi5wYXJzZShlLnRvU3RyaW5nKCkpO3RoaXMuc2V0dGluZ3M9ey4uLnksLi4uUCh0KX0sdGhpcy5pbml0aWFsaXplZD0hMDt9Y2F0Y2goZSl7aWYoZS5jb2RlPT09XCJFTk9FTlRcIilhd2FpdCB0aGlzLnNhdmUoKSx0aGlzLmluaXRpYWxpemVkPXRydWU7ZWxzZSB0aHJvdyBlfX1hc3luYyBzYXZlKCl7YXdhaXQgcC5ta2RpcihpLmRpcm5hbWUodGhpcy5zdG9yZVBhdGgpLHtyZWN1cnNpdmU6dHJ1ZX0pO2xldCBlPVModGhpcy5zZXR0aW5ncyk7YXdhaXQgcC53cml0ZUZpbGUodGhpcy5zdG9yZVBhdGgsSlNPTi5zdHJpbmdpZnkoZSxudWxsLDIpKTt9YXN5bmMgZ2V0KGUpe3JldHVybiB0aGlzLmluaXRpYWxpemVkfHxhd2FpdCB0aGlzLmluaXQoKSx0aGlzLnNldHRpbmdzW2VdfWFzeW5jIHNldChlLHQpe3RoaXMuaW5pdGlhbGl6ZWR8fGF3YWl0IHRoaXMuaW5pdCgpLHRoaXMuc2V0dGluZ3NbZV09dCxhd2FpdCB0aGlzLnNhdmUoKTt9YXN5bmMgZ2V0QWxsKCl7cmV0dXJuIGF3YWl0IHRoaXMuaW5pdCgpLHsuLi50aGlzLnNldHRpbmdzfX1hc3luYyB1cGRhdGUoZSl7dGhpcy5pbml0aWFsaXplZHx8YXdhaXQgdGhpcy5pbml0KCksdGhpcy5zZXR0aW5ncz17Li4udGhpcy5zZXR0aW5ncywuLi5lfSxhd2FpdCB0aGlzLnNhdmUoKTt9YXN5bmMgcmVzZXQoKXt0aGlzLnNldHRpbmdzPXsuLi55fSxhd2FpdCB0aGlzLnNhdmUoKTt9YXN5bmMgcmVzZXRLZXkoZSl7dGhpcy5pbml0aWFsaXplZHx8YXdhaXQgdGhpcy5pbml0KCksdGhpcy5zZXR0aW5nc1tlXT15W2VdLGF3YWl0IHRoaXMuc2F2ZSgpO31hc3luYyBnZXRDdXN0b21TZXR0aW5nKGUsdCl7cmV0dXJuIHRoaXMuaW5pdGlhbGl6ZWR8fGF3YWl0IHRoaXMuaW5pdCgpLHRoaXMuc2V0dGluZ3MuY3VzdG9tU2V0dGluZ3M/LltlXT8uW3RdfWFzeW5jIHNldEN1c3RvbVNldHRpbmcoZSx0LHIpe3RoaXMuaW5pdGlhbGl6ZWR8fGF3YWl0IHRoaXMuaW5pdCgpLHRoaXMuc2V0dGluZ3MuY3VzdG9tU2V0dGluZ3M9dGhpcy5zZXR0aW5ncy5jdXN0b21TZXR0aW5nc3x8e30sdGhpcy5zZXR0aW5ncy5jdXN0b21TZXR0aW5nc1tlXT10aGlzLnNldHRpbmdzLmN1c3RvbVNldHRpbmdzW2VdfHx7fSx0aGlzLnNldHRpbmdzLmN1c3RvbVNldHRpbmdzW2VdW3RdPXIsYXdhaXQgdGhpcy5zYXZlKCk7fWFzeW5jIGdldE5hbWVzcGFjZVNldHRpbmdzKGUpe3JldHVybiB0aGlzLmluaXRpYWxpemVkfHxhd2FpdCB0aGlzLmluaXQoKSx0aGlzLnNldHRpbmdzLmN1c3RvbVNldHRpbmdzPy5bZV19YXN5bmMgdXBkYXRlTmFtZXNwYWNlU2V0dGluZ3MoZSx0KXt0aGlzLmluaXRpYWxpemVkfHxhd2FpdCB0aGlzLmluaXQoKSx0aGlzLnNldHRpbmdzLmN1c3RvbVNldHRpbmdzPXRoaXMuc2V0dGluZ3MuY3VzdG9tU2V0dGluZ3N8fHt9LHRoaXMuc2V0dGluZ3MuY3VzdG9tU2V0dGluZ3NbZV09dCxhd2FpdCB0aGlzLnNhdmUoKTt9fTthc3luYyBmdW5jdGlvbiBKKCl7cmV0dXJuIG5ldyBQcm9taXNlKChuLGUpPT57bGV0IHQ9Y3JlYXRlU2VydmVyKCk7dC51bnJlZigpLHQub24oXCJlcnJvclwiLGUpLHQubGlzdGVuKDAsKCk9PntsZXQgcj10LmFkZHJlc3MoKS5wb3J0O3QuY2xvc2UoKCk9Pm4ocikpO30pO30pfXZhciBnPWNsYXNze2FjdGlvblNlcnZlclBvcnQ7YWN0aW9uU2VydmVyUHJvY2Vzczthc3luYyBzZW5kKGUpe3RoaXMuYWN0aW9uU2VydmVyUG9ydHx8KHRoaXMuYWN0aW9uU2VydmVyUG9ydD1hd2FpdCBKKCksdGhpcy5hY3Rpb25TZXJ2ZXJQcm9jZXNzPWZvcmsoXCIuL2luYm94LXNlcnZlci5qc1wiLFt0aGlzLmFjdGlvblNlcnZlclBvcnQudG9TdHJpbmcoKV0pKSxlLmFjdGlvbnMmJihlLmFjdGlvbnM9ZS5hY3Rpb25zLm1hcCh0PT57bGV0IHI9Y3J5cHRvLnJhbmRvbVVVSUQoKTtyZXR1cm4ge2xhYmVsOnQubGFiZWwsYWN0aW9uOnIscG9ydDp0aGlzLmFjdGlvblNlcnZlclBvcnQsY2FsbGJhY2s6dC5jYWxsYmFja319KSk7dHJ5e3JldHVybiAoYXdhaXQgZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjExNDM1L2luYm94XCIse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHsuLi5lLHR5cGU6XCJpbmJveFwiLGFjdGlvblNlcnZlclBvcnQ6dGhpcy5hY3Rpb25TZXJ2ZXJQb3J0fSl9KSkub2t9Y2F0Y2godCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gc2VuZCBpbmJveCBtZXNzYWdlOlwiLHQpLGZhbHNlfX19O3ZhciB3PWNsYXNze2FzeW5jIGxpc3QoKXt0cnl7bGV0IHQ9YXdhaXQgZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjMwMzAvcGlwZXMvbGlzdFwiLHttZXRob2Q6XCJHRVRcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifX0pO2lmKCF0Lm9rKXRocm93IG5ldyBFcnJvcihgaHR0cCBlcnJvciEgc3RhdHVzOiAke3Quc3RhdHVzfWApO3JldHVybiB7c3VjY2VzczohMCxkYXRhOihhd2FpdCB0Lmpzb24oKSkuZGF0YX19Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gbGlzdCBwaXBlczpcIixlKSx7c3VjY2VzczpmYWxzZSxlcnJvcjplfX19YXN5bmMgZG93bmxvYWQoZSl7dHJ5e2xldCByPWF3YWl0IGZldGNoKFwiaHR0cDovL2xvY2FsaG9zdDozMDMwL3BpcGVzL2Rvd25sb2FkXCIse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHt1cmw6ZX0pfSk7aWYoIXIub2spdGhyb3cgbmV3IEVycm9yKGBodHRwIGVycm9yISBzdGF0dXM6ICR7ci5zdGF0dXN9YCk7cmV0dXJuIHtzdWNjZXNzOiEwLGRhdGE6KGF3YWl0IHIuanNvbigpKS5kYXRhfX1jYXRjaCh0KXtyZXR1cm4gY29uc29sZS5lcnJvcihcImZhaWxlZCB0byBkb3dubG9hZCBwaXBlOlwiLHQpLHtzdWNjZXNzOmZhbHNlLGVycm9yOnR9fX1hc3luYyBlbmFibGUoZSl7dHJ5e3JldHVybiAoYXdhaXQgZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjMwMzAvcGlwZXMvZW5hYmxlXCIse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtwaXBlX2lkOmV9KX0pKS5va31jYXRjaCh0KXtyZXR1cm4gY29uc29sZS5lcnJvcihcImZhaWxlZCB0byBlbmFibGUgcGlwZTpcIix0KSxmYWxzZX19YXN5bmMgZGlzYWJsZShlKXt0cnl7cmV0dXJuIChhd2FpdCBmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6MzAzMC9waXBlcy9kaXNhYmxlXCIse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtwaXBlX2lkOmV9KX0pKS5va31jYXRjaCh0KXtyZXR1cm4gY29uc29sZS5lcnJvcihcImZhaWxlZCB0byBkaXNhYmxlIHBpcGU6XCIsdCksZmFsc2V9fWFzeW5jIHVwZGF0ZShlLHQpe3RyeXtyZXR1cm4gKGF3YWl0IGZldGNoKFwiaHR0cDovL2xvY2FsaG9zdDozMDMwL3BpcGVzL3VwZGF0ZVwiLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeSh7cGlwZV9pZDplLGNvbmZpZzp0fSl9KSkub2t9Y2F0Y2gocil7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gdXBkYXRlIHBpcGU6XCIsciksZmFsc2V9fWFzeW5jIGluZm8oZSl7dHJ5e2xldCByPWF3YWl0IGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjMwMzAvcGlwZXMvaW5mby8ke2V9YCx7bWV0aG9kOlwiR0VUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn19KTtpZighci5vayl0aHJvdyBuZXcgRXJyb3IoYGh0dHAgZXJyb3IhIHN0YXR1czogJHtyLnN0YXR1c31gKTtyZXR1cm4ge3N1Y2Nlc3M6ITAsZGF0YTooYXdhaXQgci5qc29uKCkpLmRhdGF9fWNhdGNoKHQpe3JldHVybiBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGdldCBwaXBlIGluZm86XCIsdCkse3N1Y2Nlc3M6ZmFsc2UsZXJyb3I6dH19fWFzeW5jIGRvd25sb2FkUHJpdmF0ZShlLHQscil7dHJ5e2xldCBhPWF3YWl0IGZldGNoKFwiaHR0cDovL2xvY2FsaG9zdDozMDMwL3BpcGVzL2Rvd25sb2FkLXByaXZhdGVcIix7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe3VybDplLHBpcGVfbmFtZTp0LHBpcGVfaWQ6cn0pfSk7aWYoIWEub2spdGhyb3cgbmV3IEVycm9yKGBodHRwIGVycm9yISBzdGF0dXM6ICR7YS5zdGF0dXN9YCk7cmV0dXJuIHtzdWNjZXNzOiEwLGRhdGE6KGF3YWl0IGEuanNvbigpKS5kYXRhfX1jYXRjaChzKXtyZXR1cm4gY29uc29sZS5lcnJvcihcImZhaWxlZCB0byBkb3dubG9hZCBwcml2YXRlIHBpcGU6XCIscykse3N1Y2Nlc3M6ZmFsc2UsZXJyb3I6c319fWFzeW5jIGRlbGV0ZShlKXt0cnl7cmV0dXJuIChhd2FpdCBmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6MzAzMC9waXBlcy9kZWxldGVcIix7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe3BpcGVfaWQ6ZX0pfSkpLm9rfWNhdGNoKHQpe3JldHVybiBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGRlbGV0ZSBwaXBlOlwiLHQpLGZhbHNlfX19O3ZhciB2PWZhbHNlLGw9bnVsbCxJPVwicGhjX0J0OEdvVEJQZ2tDcERyYmFJWnpKSUVZdDBDckpqaEJpdUxhQmNrMWNsY2VcIixVPVwiaHR0cHM6Ly9ldS5pLnBvc3Rob2cuY29tXCI7ZnVuY3Rpb24gTyhuKXtsPW47fWZ1bmN0aW9uICQobixlKXshdiYmbCYmKGwuaW5pdChJLHthcGlfaG9zdDpVLGRpc3RpbmN0X2lkOm4sZW1haWw6ZX0pLGwuaWRlbnRpZnkobix7ZW1haWw6ZX0pLHY9dHJ1ZSk7fWFzeW5jIGZ1bmN0aW9uIGIobixlKXtpZighbClyZXR1cm47JChlPy5kaXN0aW5jdF9pZCxlPy5lbWFpbCk7bGV0e2Rpc3RpbmN0X2lkOnQsLi4ucn09ZXx8e307bC5jYXB0dXJlKG4scik7fWFzeW5jIGZ1bmN0aW9uIEEobixlKXtpZighbClyZXR1cm47JChlPy5kaXN0aW5jdF9pZCxlPy5lbWFpbCk7bGV0e2Rpc3RpbmN0X2lkOnQsLi4ucn09ZXx8e307bC5jYXB0dXJlKG4se2ZlYXR1cmU6XCJtYWluXCIsLi4ucn0pO312YXIgeD1jbGFzc3tiYXNlVXJsO3BpeGVsO2NvbnN0cnVjdG9yKGU9XCJodHRwOi8vbG9jYWxob3N0OjMwMzBcIil7dGhpcy5iYXNlVXJsPWUsdGhpcy5waXhlbD17dHlwZTp0PT50aGlzLnNlbmRJbnB1dENvbnRyb2woe3R5cGU6XCJXcml0ZVRleHRcIixkYXRhOnR9KSxwcmVzczp0PT50aGlzLnNlbmRJbnB1dENvbnRyb2woe3R5cGU6XCJLZXlQcmVzc1wiLGRhdGE6dH0pLG1vdmVNb3VzZToodCxyKT0+dGhpcy5zZW5kSW5wdXRDb250cm9sKHt0eXBlOlwiTW91c2VNb3ZlXCIsZGF0YTp7eDp0LHk6cn19KSxjbGljazp0PT50aGlzLnNlbmRJbnB1dENvbnRyb2woe3R5cGU6XCJNb3VzZUNsaWNrXCIsZGF0YTp0fSl9O31hc3luYyBzZW5kSW5wdXRDb250cm9sKGUpe3RyeXtsZXQgdD1hd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2V4cGVyaW1lbnRhbC9vcGVyYXRvci9waXhlbGAse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHthY3Rpb246ZX0pfSk7aWYoIXQub2spdGhyb3cgbmV3IEVycm9yKGBodHRwIGVycm9yISBzdGF0dXM6ICR7dC5zdGF0dXN9YCk7cmV0dXJuIChhd2FpdCB0Lmpzb24oKSkuc3VjY2Vzc31jYXRjaCh0KXtyZXR1cm4gY29uc29sZS5lcnJvcihcImZhaWxlZCB0byBjb250cm9sIGlucHV0OlwiLHQpLGZhbHNlfX1sb2NhdG9yKGUpe2lmKGUucm9sZSYmZS5pZCl0aHJvdyBuZXcgRXJyb3IoXCJvbmx5IG9uZSBvZiAncm9sZScgb3IgJ2lkJyBjYW4gYmUgc3BlY2lmaWVkLiBuZWVkIGJvdGg/IGRtIHVzIVwiKTtsZXQgdD17YXBwX25hbWU6ZS5hcHAsd2luZG93X25hbWU6ZS53aW5kb3csbG9jYXRvcjplLnJvbGV8fChlLmlkP2AjJHtlLmlkfWA6XCJcIiksdXNlX2JhY2tncm91bmRfYXBwczplLnVzZUJhY2tncm91bmRBcHBzLGFjdGl2YXRlX2FwcDplLmFjdGl2YXRlQXBwfTtyZXR1cm4gbmV3IFQodGhpcy5iYXNlVXJsLHQpfWFzeW5jIGNsaWNrKGUpe2xldCB0PXthcHBfbmFtZTplLmFwcCx3aW5kb3dfbmFtZTplLndpbmRvdyxsb2NhdG9yOmAjJHtlLmlkfWAsdXNlX2JhY2tncm91bmRfYXBwczplLnVzZUJhY2tncm91bmRBcHBzLGFjdGl2YXRlX2FwcDplLmFjdGl2YXRlQXBwIT09ZmFsc2V9LHI9YXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9leHBlcmltZW50YWwvb3BlcmF0b3IvY2xpY2tgLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeSh7c2VsZWN0b3I6dH0pfSk7aWYoIXIub2spe2xldCBhPWF3YWl0IHIudGV4dCgpO2NvbnNvbGUubG9nKFwiZXJyb3IgcmVzcG9uc2U6XCIsYSk7dHJ5e2xldCBvPUpTT04ucGFyc2UoYSk7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gY2xpY2sgZWxlbWVudDogJHtvLmVycm9yfHxyLnN0YXR1c1RleHR9YCl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gY2xpY2sgZWxlbWVudCAoc3RhdHVzICR7ci5zdGF0dXN9KTogJHthfHxyLnN0YXR1c1RleHR9YCl9fWxldCBzPWF3YWl0IHIuanNvbigpO2lmKGNvbnNvbGUubG9nKFwiZGVidWc6IGNsaWNrIHJlc3BvbnNlIGRhdGE6XCIsSlNPTi5zdHJpbmdpZnkocyxudWxsLDIpKSwhcy5zdWNjZXNzKXRocm93IG5ldyBFcnJvcihgY2xpY2sgb3BlcmF0aW9uIGZhaWxlZDogJHtzLmVycm9yfHxcInVua25vd24gZXJyb3JcIn1gKTtyZXR1cm4gcy5yZXN1bHQ/YyhzLnJlc3VsdCk6cy5tZXRob2Q/e21ldGhvZDpzLm1ldGhvZCxjb29yZGluYXRlczpzLmNvb3JkaW5hdGVzLGRldGFpbHM6cy5kZXRhaWxzfHxcIkNsaWNrIG9wZXJhdGlvbiBzdWNjZWVkZWRcIn06KGNvbnNvbGUubG9nKFwid2FybmluZzogY2xpY2sgcmVzcG9uc2UgbWlzc2luZyBleHBlY3RlZCBzdHJ1Y3R1cmUsIGNyZWF0aW5nIGZhbGxiYWNrIG9iamVjdFwiKSx7bWV0aG9kOlwiTW91c2VTaW11bGF0aW9uXCIsY29vcmRpbmF0ZXM6dW5kZWZpbmVkLGRldGFpbHM6XCJDbGljayBvcGVyYXRpb24gc3VjY2VlZGVkIGJ1dCByZXR1cm5lZCB1bmV4cGVjdGVkIGRhdGEgc3RydWN0dXJlXCJ9KX1hc3luYyBmaWxsKGUpe2xldCB0PXthcHBfbmFtZTplLmFwcCxsb2NhdG9yOmAjJHtlLmlkfWAsdXNlX2JhY2tncm91bmRfYXBwczplLnVzZUJhY2tncm91bmRBcHBzLGFjdGl2YXRlX2FwcDplLmFjdGl2YXRlQXBwIT09ZmFsc2V9O2NvbnNvbGUubG9nKFwic2VsZWN0b3JcIix0KTtsZXQgcj1hd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2V4cGVyaW1lbnRhbC9vcGVyYXRvci90eXBlYCx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe3NlbGVjdG9yOnQsdGV4dDplLnZhbHVlfSl9KTtpZighci5vayl7bGV0IGE9YXdhaXQgci50ZXh0KCk7Y29uc29sZS5sb2coXCJlcnJvciByZXNwb25zZTpcIixhKTt0cnl7bGV0IG89SlNPTi5wYXJzZShhKTt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byB0eXBlIHRleHQ6ICR7by5lcnJvcnx8ci5zdGF0dXNUZXh0fWApfWNhdGNoe3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIHR5cGUgdGV4dCAoc3RhdHVzICR7ci5zdGF0dXN9KTogJHthfHxyLnN0YXR1c1RleHR9YCl9fXJldHVybiAoYXdhaXQgci5qc29uKCkpLnN1Y2Nlc3N9Z2V0QnlSb2xlKGUsdCl7cmV0dXJuIHRoaXMubG9jYXRvcih7YXBwOnQ/LmFwcHx8XCJcIix3aW5kb3c6dD8ud2luZG93LHJvbGU6ZSx1c2VCYWNrZ3JvdW5kQXBwczp0Py51c2VCYWNrZ3JvdW5kQXBwcyxhY3RpdmF0ZUFwcDp0Py5hY3RpdmF0ZUFwcH0pfWdldEJ5SWQoZSx0KXtyZXR1cm4gdGhpcy5sb2NhdG9yKHthcHA6dD8uYXBwfHxcIlwiLHdpbmRvdzp0Py53aW5kb3csaWQ6ZSx1c2VCYWNrZ3JvdW5kQXBwczp0Py51c2VCYWNrZ3JvdW5kQXBwcyxhY3RpdmF0ZUFwcDp0Py5hY3RpdmF0ZUFwcH0pfWFzeW5jIGdldFRleHQoZSl7bGV0IHQ9e2FwcE5hbWU6ZS5hcHAsd2luZG93TmFtZTplLndpbmRvdyxtYXhEZXB0aDplLm1heERlcHRoLHVzZUJhY2tncm91bmRBcHBzOmUudXNlQmFja2dyb3VuZEFwcHMsYWN0aXZhdGVBcHA6ZS5hY3RpdmF0ZUFwcCE9PWZhbHNlfSxyPWF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vZXhwZXJpbWVudGFsL29wZXJhdG9yL2dldF90ZXh0YCx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoaCh0KSl9KTtpZighci5vayl7bGV0IGE9YXdhaXQgci50ZXh0KCk7Y29uc29sZS5sb2coXCJlcnJvciByZXNwb25zZTpcIixhKTt0cnl7bGV0IG89SlNPTi5wYXJzZShhKTt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBnZXQgdGV4dDogJHtvLmVycm9yfHxyLnN0YXR1c1RleHR9YCl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gZ2V0IHRleHQgKHN0YXR1cyAke3Iuc3RhdHVzfSk6ICR7YXx8ci5zdGF0dXNUZXh0fWApfX1sZXQgcz1hd2FpdCByLmpzb24oKTtpZihjb25zb2xlLmxvZyhcImRlYnVnOiB0ZXh0IHJlc3BvbnNlIGRhdGE6XCIsSlNPTi5zdHJpbmdpZnkocyxudWxsLDIpKSwhcy5zdWNjZXNzKXRocm93IG5ldyBFcnJvcihgZ2V0X3RleHQgb3BlcmF0aW9uIGZhaWxlZDogJHtzLmVycm9yfHxcInVua25vd24gZXJyb3JcIn1gKTtyZXR1cm4gYyhzKX1hc3luYyBnZXRJbnRlcmFjdGFibGVFbGVtZW50cyhlKXtsZXQgdD17YXBwTmFtZTplLmFwcCx3aW5kb3dOYW1lOmUud2luZG93LHdpdGhUZXh0T25seTplLndpdGhUZXh0T25seSxpbnRlcmFjdGFibGVPbmx5OmUuaW50ZXJhY3RhYmxlT25seSxpbmNsdWRlU29tZXRpbWVzSW50ZXJhY3RhYmxlOmUuaW5jbHVkZVNvbWV0aW1lc0ludGVyYWN0YWJsZSxtYXhFbGVtZW50czplLm1heEVsZW1lbnRzLHVzZUJhY2tncm91bmRBcHBzOmUudXNlQmFja2dyb3VuZEFwcHMsYWN0aXZhdGVBcHA6ZS5hY3RpdmF0ZUFwcH0scj1hd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2V4cGVyaW1lbnRhbC9vcGVyYXRvci9saXN0LWludGVyYWN0YWJsZS1lbGVtZW50c2Ase21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KGgodCkpfSk7aWYoIXIub2spe2xldCBhPWF3YWl0IHIudGV4dCgpO2NvbnNvbGUubG9nKFwiZXJyb3IgcmVzcG9uc2U6XCIsYSk7dHJ5e2xldCBvPUpTT04ucGFyc2UoYSk7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gZ2V0IGludGVyYWN0YWJsZSBlbGVtZW50czogJHtvLmVycm9yfHxyLnN0YXR1c1RleHR9YCl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gZ2V0IGludGVyYWN0YWJsZSBlbGVtZW50cyAoc3RhdHVzICR7ci5zdGF0dXN9KTogJHthfHxyLnN0YXR1c1RleHR9YCl9fWxldCBzPWF3YWl0IHIuanNvbigpO3JldHVybiBjb25zb2xlLmxvZyhcImRlYnVnOiB0ZXh0IHJlc3BvbnNlIGRhdGE6XCIsSlNPTi5zdHJpbmdpZnkocyxudWxsLDIpKSxjKHMpfWFzeW5jIGNsaWNrQnlJbmRleChlKXtsZXQgdD1hd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2V4cGVyaW1lbnRhbC9vcGVyYXRvci9jbGljay1ieS1pbmRleGAse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtlbGVtZW50X2luZGV4OmV9KX0pO2lmKCF0Lm9rKXtsZXQgcz1hd2FpdCB0LnRleHQoKTtjb25zb2xlLmxvZyhcImVycm9yIHJlc3BvbnNlOlwiLHMpO3RyeXtsZXQgYT1KU09OLnBhcnNlKHMpO3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGNsaWNrIGVsZW1lbnQgYnkgaW5kZXg6ICR7YS5lcnJvcnx8dC5zdGF0dXNUZXh0fWApfWNhdGNoe3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGNsaWNrIGVsZW1lbnQgYnkgaW5kZXggKHN0YXR1cyAke3Quc3RhdHVzfSk6ICR7c3x8dC5zdGF0dXNUZXh0fWApfX1sZXQgcj1hd2FpdCB0Lmpzb24oKTtpZighci5zdWNjZXNzKXRocm93IG5ldyBFcnJvcihgY2xpY2sgb3BlcmF0aW9uIGZhaWxlZDogJHtyLm1lc3NhZ2V8fFwidW5rbm93biBlcnJvclwifWApO3JldHVybiByLnN1Y2Nlc3N9YXN5bmMgdHlwZUJ5SW5kZXgoZSx0KXtsZXQgcj1hd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2V4cGVyaW1lbnRhbC9vcGVyYXRvci90eXBlLWJ5LWluZGV4YCx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe2VsZW1lbnRfaW5kZXg6ZSx0ZXh0OnR9KX0pO2lmKCFyLm9rKXtsZXQgYT1hd2FpdCByLnRleHQoKTtjb25zb2xlLmxvZyhcImVycm9yIHJlc3BvbnNlOlwiLGEpO3RyeXtsZXQgbz1KU09OLnBhcnNlKGEpO3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIHR5cGUgdGV4dCBpbnRvIGVsZW1lbnQgYnkgaW5kZXg6ICR7by5lcnJvcnx8ci5zdGF0dXNUZXh0fWApfWNhdGNoe3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIHR5cGUgdGV4dCBpbnRvIGVsZW1lbnQgYnkgaW5kZXggKHN0YXR1cyAke3Iuc3RhdHVzfSk6ICR7YXx8ci5zdGF0dXNUZXh0fWApfX1sZXQgcz1hd2FpdCByLmpzb24oKTtpZighcy5zdWNjZXNzKXRocm93IG5ldyBFcnJvcihgdHlwZSBvcGVyYXRpb24gZmFpbGVkOiAke3MubWVzc2FnZXx8XCJ1bmtub3duIGVycm9yXCJ9YCk7cmV0dXJuIHMuc3VjY2Vzc31hc3luYyBwcmVzc0tleShlKXtsZXQgdD17YXBwX25hbWU6ZS5hcHAsd2luZG93X25hbWU6ZS53aW5kb3csbG9jYXRvcjpgIyR7ZS5pZH1gLHVzZV9iYWNrZ3JvdW5kX2FwcHM6ZS51c2VCYWNrZ3JvdW5kQXBwcyxhY3RpdmF0ZV9hcHA6ZS5hY3RpdmF0ZUFwcCE9PWZhbHNlfSxyPWF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vZXhwZXJpbWVudGFsL29wZXJhdG9yL3ByZXNzLWtleWAse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KGgoe3NlbGVjdG9yOnQsa2V5Q29tYm86ZS5rZXl9KSl9KTtpZighci5vayl7bGV0IGE9YXdhaXQgci50ZXh0KCk7Y29uc29sZS5sb2coXCJlcnJvciByZXNwb25zZTpcIixhKTt0cnl7bGV0IG89SlNPTi5wYXJzZShhKTt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBwcmVzcyBrZXk6ICR7by5lcnJvcnx8ci5zdGF0dXNUZXh0fWApfWNhdGNoe3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIHByZXNzIGtleSAoc3RhdHVzICR7ci5zdGF0dXN9KTogJHthfHxyLnN0YXR1c1RleHR9YCl9fXJldHVybiAoYXdhaXQgci5qc29uKCkpLnN1Y2Nlc3N9YXN5bmMgcHJlc3NLZXlCeUluZGV4KGUsdCl7bGV0IHI9YXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9leHBlcmltZW50YWwvb3BlcmF0b3IvcHJlc3Mta2V5LWJ5LWluZGV4YCx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe2VsZW1lbnRfaW5kZXg6ZSxrZXlfY29tYm86dH0pfSk7aWYoIXIub2spe2xldCBhPWF3YWl0IHIudGV4dCgpO2NvbnNvbGUubG9nKFwiZXJyb3IgcmVzcG9uc2U6XCIsYSk7dHJ5e2xldCBvPUpTT04ucGFyc2UoYSk7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gcHJlc3Mga2V5IG9uIGVsZW1lbnQgYnkgaW5kZXg6ICR7by5lcnJvcnx8ci5zdGF0dXNUZXh0fWApfWNhdGNoe3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIHByZXNzIGtleSBvbiBlbGVtZW50IGJ5IGluZGV4IChzdGF0dXMgJHtyLnN0YXR1c30pOiAke2F8fHIuc3RhdHVzVGV4dH1gKX19bGV0IHM9YXdhaXQgci5qc29uKCk7aWYoIXMuc3VjY2Vzcyl0aHJvdyBuZXcgRXJyb3IoYHByZXNzIGtleSBvcGVyYXRpb24gZmFpbGVkOiAke3MubWVzc2FnZXx8XCJ1bmtub3duIGVycm9yXCJ9YCk7cmV0dXJuIHMuc3VjY2Vzc31hc3luYyBvcGVuQXBwbGljYXRpb24oZSl7bGV0IHQ9YXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9leHBlcmltZW50YWwvb3BlcmF0b3Ivb3Blbi1hcHBsaWNhdGlvbmAse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHthcHBfbmFtZTplfSl9KTtpZighdC5vayl7bGV0IHM9YXdhaXQgdC50ZXh0KCk7Y29uc29sZS5sb2coXCJlcnJvciByZXNwb25zZTpcIixzKTt0cnl7bGV0IGE9SlNPTi5wYXJzZShzKTt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBvcGVuIGFwcGxpY2F0aW9uOiAke2EuZXJyb3J8fHQuc3RhdHVzVGV4dH1gKX1jYXRjaHt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBvcGVuIGFwcGxpY2F0aW9uIChzdGF0dXMgJHt0LnN0YXR1c30pOiAke3N8fHQuc3RhdHVzVGV4dH1gKX19bGV0IHI9YXdhaXQgdC5qc29uKCk7aWYoIXIuc3VjY2Vzcyl0aHJvdyBuZXcgRXJyb3IoYG9wZW4gYXBwbGljYXRpb24gb3BlcmF0aW9uIGZhaWxlZDogJHtyLm1lc3NhZ2V8fFwidW5rbm93biBlcnJvclwifWApO3JldHVybiByLnN1Y2Nlc3N9YXN5bmMgb3BlblVybChlLHQpe2xldCByPWF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vZXhwZXJpbWVudGFsL29wZXJhdG9yL29wZW4tdXJsYCx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe3VybDplLGJyb3dzZXI6dH0pfSk7aWYoIXIub2spe2xldCBhPWF3YWl0IHIudGV4dCgpO2NvbnNvbGUubG9nKFwiZXJyb3IgcmVzcG9uc2U6XCIsYSk7dHJ5e2xldCBvPUpTT04ucGFyc2UoYSk7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gb3BlbiB1cmw6ICR7by5lcnJvcnx8ci5zdGF0dXNUZXh0fWApfWNhdGNoe3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIG9wZW4gdXJsIChzdGF0dXMgJHtyLnN0YXR1c30pOiAke2F8fHIuc3RhdHVzVGV4dH1gKX19bGV0IHM9YXdhaXQgci5qc29uKCk7aWYoIXMuc3VjY2Vzcyl0aHJvdyBuZXcgRXJyb3IoYG9wZW4gdXJsIG9wZXJhdGlvbiBmYWlsZWQ6ICR7cy5tZXNzYWdlfHxcInVua25vd24gZXJyb3JcIn1gKTtyZXR1cm4gcy5zdWNjZXNzfWFzeW5jIHNjcm9sbChlKXtsZXQgdD17YXBwX25hbWU6ZS5hcHAsd2luZG93X25hbWU6ZS53aW5kb3csbG9jYXRvcjplLmlkP2AjJHtlLmlkfWA6XCJcIix1c2VfYmFja2dyb3VuZF9hcHBzOmUudXNlQmFja2dyb3VuZEFwcHMsYWN0aXZhdGVfYXBwOmUuYWN0aXZhdGVBcHAhPT1mYWxzZX0scj1hd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2V4cGVyaW1lbnRhbC9vcGVyYXRvci9zY3JvbGxgLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeSh7c2VsZWN0b3I6dCxkaXJlY3Rpb246ZS5kaXJlY3Rpb24sYW1vdW50OmUuYW1vdW50fSl9KTtpZighci5vayl7bGV0IGE9YXdhaXQgci50ZXh0KCk7Y29uc29sZS5sb2coXCJlcnJvciByZXNwb25zZTpcIixhKTt0cnl7bGV0IG89SlNPTi5wYXJzZShhKTt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBzY3JvbGwgZWxlbWVudDogJHtvLmVycm9yfHxyLnN0YXR1c1RleHR9YCl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gc2Nyb2xsIGVsZW1lbnQgKHN0YXR1cyAke3Iuc3RhdHVzfSk6ICR7YXx8ci5zdGF0dXNUZXh0fWApfX1yZXR1cm4gKGF3YWl0IHIuanNvbigpKS5zdWNjZXNzfX0sVD1jbGFzc3tiYXNlVXJsO3NlbGVjdG9yO2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5iYXNlVXJsPWUsdGhpcy5zZWxlY3Rvcj10O31hc3luYyBmaXJzdChlKXtsZXQgdD1hd2FpdCB0aGlzLmFsbCgxLGUpO3JldHVybiB0Lmxlbmd0aD4wP3RbMF06bnVsbH1hc3luYyBhbGwoZSx0KXtsZXQgcj1hd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2V4cGVyaW1lbnRhbC9vcGVyYXRvcmAse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtzZWxlY3Rvcjp0aGlzLnNlbGVjdG9yLG1heF9yZXN1bHRzOmUsbWF4X2RlcHRoOnR9KX0pO2lmKCFyLm9rKXtsZXQgYT1hd2FpdCByLnRleHQoKTtjb25zb2xlLmxvZyhcImVycm9yIHJlc3BvbnNlOlwiLGEpO3RyeXtsZXQgbz1KU09OLnBhcnNlKGEpO3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGZpbmQgZWxlbWVudHM6ICR7by5lcnJvcnx8ci5zdGF0dXNUZXh0fWApfWNhdGNoe3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGZpbmQgZWxlbWVudHMgKHN0YXR1cyAke3Iuc3RhdHVzfSk6ICR7YXx8ci5zdGF0dXNUZXh0fWApfX1yZXR1cm4gKGF3YWl0IHIuanNvbigpKS5kYXRhfWFzeW5jIGNsaWNrKCl7bGV0IGU9YXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9leHBlcmltZW50YWwvb3BlcmF0b3IvY2xpY2tgLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeSh7c2VsZWN0b3I6ey4uLnRoaXMuc2VsZWN0b3IsYWN0aXZhdGVfYXBwOnRoaXMuc2VsZWN0b3IuYWN0aXZhdGVfYXBwIT09ZmFsc2V9fSl9KTtpZighZS5vayl7bGV0IHI9YXdhaXQgZS50ZXh0KCk7Y29uc29sZS5sb2coXCJlcnJvciByZXNwb25zZTpcIixyKTt0cnl7bGV0IHM9SlNPTi5wYXJzZShyKTt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBjbGljayBlbGVtZW50OiAke3MuZXJyb3J8fGUuc3RhdHVzVGV4dH1gKX1jYXRjaHt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBjbGljayBlbGVtZW50IChzdGF0dXMgJHtlLnN0YXR1c30pOiAke3J8fGUuc3RhdHVzVGV4dH1gKX19bGV0IHQ9YXdhaXQgZS5qc29uKCk7aWYoY29uc29sZS5sb2coXCJkZWJ1ZzogY2xpY2sgcmVzcG9uc2UgZGF0YTpcIixKU09OLnN0cmluZ2lmeSh0LG51bGwsMikpLCF0LnN1Y2Nlc3MpdGhyb3cgbmV3IEVycm9yKGBjbGljayBvcGVyYXRpb24gZmFpbGVkOiAke3QuZXJyb3J8fFwidW5rbm93biBlcnJvclwifWApO3JldHVybiB0LnJlc3VsdD90LnJlc3VsdDp0Lm1ldGhvZD97bWV0aG9kOnQubWV0aG9kLGNvb3JkaW5hdGVzOnQuY29vcmRpbmF0ZXMsZGV0YWlsczp0LmRldGFpbHN8fFwiQ2xpY2sgb3BlcmF0aW9uIHN1Y2NlZWRlZFwifTooY29uc29sZS5sb2coXCJ3YXJuaW5nOiBjbGljayByZXNwb25zZSBtaXNzaW5nIGV4cGVjdGVkIHN0cnVjdHVyZSwgY3JlYXRpbmcgZmFsbGJhY2sgb2JqZWN0XCIpLHttZXRob2Q6XCJNb3VzZVNpbXVsYXRpb25cIixjb29yZGluYXRlczp1bmRlZmluZWQsZGV0YWlsczpcIkNsaWNrIG9wZXJhdGlvbiBzdWNjZWVkZWQgYnV0IHJldHVybmVkIHVuZXhwZWN0ZWQgZGF0YSBzdHJ1Y3R1cmVcIn0pfWFzeW5jIGZpbGwoZSl7bGV0IHQ9YXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9leHBlcmltZW50YWwvb3BlcmF0b3IvdHlwZWAse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtzZWxlY3Rvcjp7Li4udGhpcy5zZWxlY3RvcixhY3RpdmF0ZV9hcHA6dGhpcy5zZWxlY3Rvci5hY3RpdmF0ZV9hcHAhPT1mYWxzZX0sdGV4dDplfSl9KTtpZighdC5vayl7bGV0IHM9YXdhaXQgdC50ZXh0KCk7Y29uc29sZS5sb2coXCJlcnJvciByZXNwb25zZTpcIixzKTt0cnl7bGV0IGE9SlNPTi5wYXJzZShzKTt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byB0eXBlIHRleHQ6ICR7YS5lcnJvcnx8dC5zdGF0dXNUZXh0fWApfWNhdGNoe3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIHR5cGUgdGV4dCAoc3RhdHVzICR7dC5zdGF0dXN9KTogJHtzfHx0LnN0YXR1c1RleHR9YCl9fXJldHVybiAoYXdhaXQgdC5qc29uKCkpLnN1Y2Nlc3N9YXN5bmMgZXhpc3RzKCl7dHJ5e3JldHVybiAhIWF3YWl0IHRoaXMuZmlyc3QoKX1jYXRjaHtyZXR1cm4gZmFsc2V9fWFzeW5jIHdhaXRGb3IoZT17fSl7bGV0IHQ9RGF0ZS5ub3coKSxyPWUudGltZW91dHx8M2U0O2Zvcig7RGF0ZS5ub3coKS10PHI7KXt0cnl7bGV0IHM9YXdhaXQgdGhpcy5maXJzdCgpO2lmKHMpcmV0dXJuIHN9Y2F0Y2h7fWF3YWl0IG5ldyBQcm9taXNlKHM9PnNldFRpbWVvdXQocywxMDApKTt9cmV0dXJuIG51bGx9YXN5bmMgcHJlc3NLZXkoZSl7bGV0IHQ9YXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9leHBlcmltZW50YWwvb3BlcmF0b3IvcHJlc3Mta2V5YCx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe3NlbGVjdG9yOnsuLi50aGlzLnNlbGVjdG9yLGFjdGl2YXRlX2FwcDp0aGlzLnNlbGVjdG9yLmFjdGl2YXRlX2FwcCE9PWZhbHNlfSxrZXlfY29tYm86ZX0pfSk7aWYoIXQub2spe2xldCBzPWF3YWl0IHQudGV4dCgpO2NvbnNvbGUubG9nKFwiZXJyb3IgcmVzcG9uc2U6XCIscyk7dHJ5e2xldCBhPUpTT04ucGFyc2Uocyk7dGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gcHJlc3Mga2V5OiAke2EuZXJyb3J8fHQuc3RhdHVzVGV4dH1gKX1jYXRjaHt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBwcmVzcyBrZXkgKHN0YXR1cyAke3Quc3RhdHVzfSk6ICR7c3x8dC5zdGF0dXNUZXh0fWApfX1yZXR1cm4gKGF3YWl0IHQuanNvbigpKS5zdWNjZXNzfWFzeW5jIHNjcm9sbChlLHQpe2xldCByPWF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vZXhwZXJpbWVudGFsL29wZXJhdG9yL3Njcm9sbGAse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtzZWxlY3Rvcjp7Li4udGhpcy5zZWxlY3RvcixhY3RpdmF0ZV9hcHA6dGhpcy5zZWxlY3Rvci5hY3RpdmF0ZV9hcHAhPT1mYWxzZX0sZGlyZWN0aW9uOmUsYW1vdW50OnR9KX0pO2lmKCFyLm9rKXtsZXQgYT1hd2FpdCByLnRleHQoKTtjb25zb2xlLmxvZyhcImVycm9yIHJlc3BvbnNlOlwiLGEpO3RyeXtsZXQgbz1KU09OLnBhcnNlKGEpO3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIHNjcm9sbCBlbGVtZW50OiAke28uZXJyb3J8fHIuc3RhdHVzVGV4dH1gKX1jYXRjaHt0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBzY3JvbGwgZWxlbWVudCAoc3RhdHVzICR7ci5zdGF0dXN9KTogJHthfHxyLnN0YXR1c1RleHR9YCl9fXJldHVybiAoYXdhaXQgci5qc29uKCkpLnN1Y2Nlc3N9fTtPKHtpbml0OmQuaW5pdC5iaW5kKGQpLGlkZW50aWZ5OmQuaWRlbnRpZnkuYmluZChkKSxjYXB0dXJlOmQuY2FwdHVyZS5iaW5kKGQpfSk7dmFyIEU9Y2xhc3N7YW5hbHl0aWNzSW5pdGlhbGl6ZWQ9ZmFsc2U7YW5hbHl0aWNzRW5hYmxlZD10cnVlO3NldHRpbmdzPW5ldyBmO2luYm94PW5ldyBnO3BpcGVzPW5ldyB3O29wZXJhdG9yPW5ldyB4O2FzeW5jIHNlbmREZXNrdG9wTm90aWZpY2F0aW9uKGUpe2F3YWl0IHRoaXMuaW5pdEFuYWx5dGljc0lmTmVlZGVkKCk7bGV0IHQ9XCJodHRwOi8vbG9jYWxob3N0OjExNDM1XCI7dHJ5e3JldHVybiBhd2FpdCBmZXRjaChgJHt0fS9ub3RpZnlgLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeShlKX0pLGF3YWl0IGIoXCJub3RpZmljYXRpb25fc2VudFwiLHtzdWNjZXNzOiEwfSksITB9Y2F0Y2gocil7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gc2VuZCBub3RpZmljYXRpb246XCIsciksZmFsc2V9fWFzeW5jIHF1ZXJ5U2NyZWVucGlwZShlKXthd2FpdCB0aGlzLmluaXRBbmFseXRpY3NJZk5lZWRlZCgpO2xldCB0PW5ldyBVUkxTZWFyY2hQYXJhbXM7T2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaCgoW3MsYV0pPT57aWYoYSE9PXVuZGVmaW5lZCYmYSE9PVwiXCIpaWYocz09PVwic3BlYWtlcklkc1wiJiZBcnJheS5pc0FycmF5KGEpKWEubGVuZ3RoPjAmJnQuYXBwZW5kKG0ocyksYS5qb2luKFwiLFwiKSk7ZWxzZSB7bGV0IG89bShzKTt0LmFwcGVuZChvLGEudG9TdHJpbmcoKSk7fX0pO2xldCByPWBodHRwOi8vbG9jYWxob3N0OjMwMzAvc2VhcmNoPyR7dH1gO3RyeXtsZXQgcz1hd2FpdCBmZXRjaChyKTtpZighcy5vayl7bGV0IG89YXdhaXQgcy50ZXh0KCksdTt0cnl7dT1KU09OLnBhcnNlKG8pLGNvbnNvbGUuZXJyb3IoXCJzY3JlZW5waXBlIGFwaSBlcnJvcjpcIix7c3RhdHVzOnMuc3RhdHVzLGVycm9yOnV9KTt9Y2F0Y2h7Y29uc29sZS5lcnJvcihcInNjcmVlbnBpcGUgYXBpIGVycm9yOlwiLHtzdGF0dXM6cy5zdGF0dXMsZXJyb3I6b30pO310aHJvdyBuZXcgRXJyb3IoYGh0dHAgZXJyb3IhIHN0YXR1czogJHtzLnN0YXR1c31gKX1sZXQgYT1hd2FpdCBzLmpzb24oKTtyZXR1cm4gYXdhaXQgYihcInNlYXJjaF9wZXJmb3JtZWRcIix7Y29udGVudF90eXBlOmUuY29udGVudFR5cGUscmVzdWx0X2NvdW50OmEucGFnaW5hdGlvbi50b3RhbH0pLGMoYSl9Y2F0Y2gocyl7dGhyb3cgY29uc29sZS5lcnJvcihcImVycm9yIHF1ZXJ5aW5nIHNjcmVlbnBpcGU6XCIscyksc319YXN5bmMgaW5pdEFuYWx5dGljc0lmTmVlZGVkKCl7aWYodGhpcy5hbmFseXRpY3NJbml0aWFsaXplZClyZXR1cm47bGV0IGU9YXdhaXQgdGhpcy5zZXR0aW5ncy5nZXRBbGwoKTt0aGlzLmFuYWx5dGljc0VuYWJsZWQ9ZS5hbmFseXRpY3NFbmFibGVkLGUuYW5hbHl0aWNzRW5hYmxlZCYmKHRoaXMuYW5hbHl0aWNzSW5pdGlhbGl6ZWQ9dHJ1ZSk7fWFzeW5jIGNhcHR1cmVFdmVudChlLHQpe2lmKCF0aGlzLmFuYWx5dGljc0VuYWJsZWQpcmV0dXJuO2F3YWl0IHRoaXMuaW5pdEFuYWx5dGljc0lmTmVlZGVkKCk7bGV0IHI9YXdhaXQgdGhpcy5zZXR0aW5ncy5nZXRBbGwoKTtyZXR1cm4gYihlLHtkaXN0aW5jdF9pZDpyLnVzZXIuaWQsZW1haWw6ci51c2VyLmVtYWlsLC4uLnR9KX1hc3luYyBjYXB0dXJlTWFpbkZlYXR1cmVFdmVudChlLHQpe2lmKHRoaXMuYW5hbHl0aWNzRW5hYmxlZClyZXR1cm4gYXdhaXQgdGhpcy5pbml0QW5hbHl0aWNzSWZOZWVkZWQoKSxBKGUsdCl9fSxhZT1uZXcgRTtcbmV4cG9ydHtrIGFzIGdldERlZmF1bHRTZXR0aW5ncyxhZSBhcyBwaXBlfTsvLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@screenpipe/js/dist/index.js\n");

/***/ })

};
;